{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"DriftWatch Lightweight ML drift monitoring, built for real-world pipelines        Get Started             View on GitHub"},{"location":"#what-is-driftwatch","title":"What is DriftWatch?","text":"<p>DriftWatch is a production-ready drift detection library designed for ML engineers who need reliable, actionable drift monitoring without the overhead of complex platforms.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li> <p> Simple API</p> <p>Get started in 3 lines of code. No complex configuration required.</p> </li> <li> <p> Production-Ready</p> <p>Includes FastAPI middleware, Slack alerts, and comprehensive CLI tools.</p> </li> <li> <p> Multiple Detectors</p> <p>PSI, KS-Test, Wasserstein Distance, and Chi-Squared tests included.</p> </li> <li> <p> Reliable</p> <p>Fully type-hinted, tested (96%+ coverage), and minimally dependent.</p> </li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>from driftwatch import Monitor\nimport pandas as pd\n\n# Load your data\ntrain_df = pd.read_parquet(\"train.parquet\")\nprod_df = pd.read_parquet(\"production.parquet\")\n\n# Create monitor\nmonitor = Monitor(reference_data=train_df)\n\n# Check for drift\nreport = monitor.check(prod_df)\n\nif report.has_drift():\n    print(f\"\u26a0\ufe0f Drift detected in {len(report.drifted_features())} features!\")\n    print(f\"Drift ratio: {report.drift_ratio():.1%}\")\n</code></pre>"},{"location":"#use-cases","title":"Use Cases","text":""},{"location":"#1-api-monitoring","title":"1. API Monitoring","text":"<p>Monitor your FastAPI ML service automatically:</p> <pre><code>from fastapi import FastAPI\nfrom driftwatch.integrations.fastapi import DriftMiddleware\n\napp = FastAPI()\napp.add_middleware(DriftMiddleware, monitor=monitor)\n</code></pre> <p>Read FastAPI Guide \u2192</p>"},{"location":"#2-cicd-integration","title":"2. CI/CD Integration","text":"<p>Check for drift in your deployment pipeline to prevent bad rollouts.</p> <pre><code>driftwatch check --ref train.parquet --prod new_data.parquet\n</code></pre> <p>Read CLI Guide \u2192</p>"},{"location":"#3-slack-alerting","title":"3. Slack Alerting","text":"<p>Get notified instantly when critical features drift.</p> <pre><code>if report.has_drift():\n    alerter.send(report)\n</code></pre> <p>Read Slack Guide \u2192</p>"},{"location":"#whats-next","title":"What's Next?","text":"<ul> <li> <p> Get Started</p> <p>Run your first drift check in minutes</p> <p> Quickstart</p> </li> <li> <p> Core Concepts</p> <p>Understand the math behind drift</p> <p> Concepts</p> </li> <li> <p> API Reference</p> <p>Explore the full API documentation</p> <p> API Docs</p> </li> </ul>"},{"location":"architecture/","title":"\ud83c\udfd7\ufe0f DriftWatch Architecture","text":"<p>This document provides visual diagrams explaining DriftWatch's architecture, workflow, and decision logic.</p>"},{"location":"architecture/#overview","title":"Overview","text":"<pre><code>graph TB\n    subgraph \"\ud83d\udce6 DriftWatch Core\"\n        Monitor[\"\ud83d\udd0d Monitor\"]\n        Report[\"\ud83d\udcca DriftReport\"]\n\n        subgraph \"\ud83e\uddea Detectors\"\n            KS[\"KS Test\"]\n            PSI[\"PSI\"]\n            Wasserstein[\"Wasserstein\"]\n            Chi2[\"Chi-Squared\"]\n        end\n    end\n\n    subgraph \"\ud83d\udce5 Data Sources\"\n        RefData[\"\ud83d\udcc1 Reference Data&lt;br/&gt;(Training)\"]\n        ProdData[\"\ud83d\udcc1 Production Data\"]\n    end\n\n    subgraph \"\ud83d\udd0c Integrations\"\n        FastAPI[\"\u26a1 FastAPI&lt;br/&gt;Middleware\"]\n        CLI[\"\ud83d\udcbb CLI\"]\n        MLflow[\"\ud83d\udcc8 MLflow\"]\n        Slack[\"\ud83d\udcac Slack&lt;br/&gt;Alerts\"]\n    end\n\n    RefData --&gt; Monitor\n    ProdData --&gt; Monitor\n    Monitor --&gt; KS &amp; PSI &amp; Wasserstein &amp; Chi2\n    KS &amp; PSI &amp; Wasserstein &amp; Chi2 --&gt; Report\n    Report --&gt; FastAPI &amp; CLI &amp; MLflow &amp; Slack\n\n    style Monitor fill:#4CAF50,color:#fff\n    style Report fill:#2196F3,color:#fff</code></pre>"},{"location":"architecture/#drift-detection-workflow","title":"Drift Detection Workflow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant Monitor\n    participant Detector\n    participant Report\n    participant Alert\n\n    User-&gt;&gt;Monitor: Initialize with reference_data\n    Monitor-&gt;&gt;Monitor: Setup detectors per feature type\n\n    User-&gt;&gt;Monitor: check(production_data)\n\n    loop For each feature\n        Monitor-&gt;&gt;Detector: detect(ref_series, prod_series)\n        Detector-&gt;&gt;Detector: Calculate statistic\n        Detector--&gt;&gt;Monitor: DetectionResult\n    end\n\n    Monitor-&gt;&gt;Report: Create DriftReport\n    Report-&gt;&gt;Report: Compute status (OK/WARNING/CRITICAL)\n    Report--&gt;&gt;User: Return report\n\n    alt Drift Detected\n        User-&gt;&gt;Alert: send(report)\n        Alert--&gt;&gt;User: \ud83d\udea8 Notification sent\n    end</code></pre>"},{"location":"architecture/#how-drift-detection-works","title":"How Drift Detection Works","text":"<pre><code>flowchart LR\n    subgraph \"Training Phase\"\n        Train[\"\ud83c\udf93 Train Model\"]\n        Save[\"\ud83d\udcbe Save Reference&lt;br/&gt;Distribution\"]\n    end\n\n    subgraph \"Production Phase\"\n        Infer[\"\ud83d\udd2e Model Inference\"]\n        Collect[\"\ud83d\udce5 Collect Data\"]\n    end\n\n    subgraph \"Monitoring Phase\"\n        Compare[\"\u2696\ufe0f Compare&lt;br/&gt;Distributions\"]\n        Decision{Drift?}\n        OK[\"\u2705 OK\"]\n        Alert[\"\ud83d\udea8 Alert\"]\n        Retrain[\"\ud83d\udd04 Retrain\"]\n    end\n\n    Train --&gt; Save\n    Save --&gt; Compare\n    Infer --&gt; Collect --&gt; Compare\n    Compare --&gt; Decision\n    Decision --&gt;|No| OK\n    Decision --&gt;|Yes| Alert --&gt; Retrain\n    Retrain --&gt; Train\n\n    style Decision fill:#FF9800,color:#fff\n    style Alert fill:#f44336,color:#fff\n    style OK fill:#4CAF50,color:#fff</code></pre>"},{"location":"architecture/#decision-logic","title":"Decision Logic","text":"<pre><code>graph TD\n    Start[\"\ud83d\udd0d Check Production Data\"]\n\n    Start --&gt; Loop[\"For each feature\"]\n    Loop --&gt; TypeCheck{Numerical?}\n\n    TypeCheck --&gt;|Yes| NumDetector[\"Use PSI/KS Detector\"]\n    TypeCheck --&gt;|No| CatDetector[\"Use Chi\u00b2 Detector\"]\n\n    NumDetector --&gt; CalcScore[\"Calculate Score\"]\n    CatDetector --&gt; CalcScore\n\n    CalcScore --&gt; ThresholdCheck{Score &gt; Threshold?}\n    ThresholdCheck --&gt;|Yes| MarkDrift[\"\u26a0\ufe0f Mark as Drift\"]\n    ThresholdCheck --&gt;|No| MarkOK[\"\u2705 Mark as OK\"]\n\n    MarkDrift --&gt; Aggregate\n    MarkOK --&gt; Aggregate\n\n    Aggregate[\"Aggregate Results\"]\n    Aggregate --&gt; RatioCheck{Drift Ratio}\n\n    RatioCheck --&gt;|0%| StatusOK[\"\ud83d\udfe2 Status: OK\"]\n    RatioCheck --&gt;|&lt; 50%| StatusWarn[\"\ud83d\udfe1 Status: WARNING\"]\n    RatioCheck --&gt;|\u2265 50%| StatusCrit[\"\ud83d\udd34 Status: CRITICAL\"]\n\n    style MarkDrift fill:#FF9800,color:#fff\n    style StatusCrit fill:#f44336,color:#fff\n    style StatusWarn fill:#FF9800,color:#fff\n    style StatusOK fill:#4CAF50,color:#fff</code></pre>"},{"location":"architecture/#component-structure","title":"Component Structure","text":"<pre><code>graph LR\n    subgraph \"src/driftwatch/\"\n        init[\"__init__.py\"]\n\n        subgraph \"core/\"\n            monitor[\"monitor.py\"]\n            report[\"report.py\"]\n        end\n\n        subgraph \"detectors/\"\n            base[\"base.py\"]\n            numerical[\"numerical.py\"]\n            categorical[\"categorical.py\"]\n            registry[\"registry.py\"]\n        end\n\n        subgraph \"integrations/\"\n            fastapi_int[\"fastapi.py\"]\n            mlflow_int[\"mlflow.py\"]\n            alerting[\"alerting.py\"]\n        end\n\n        subgraph \"cli/\"\n            cli_main[\"main.py\"]\n        end\n    end\n\n    init --&gt; monitor\n    monitor --&gt; registry\n    registry --&gt; numerical &amp; categorical\n    numerical &amp; categorical --&gt; base</code></pre>"},{"location":"architecture/#cicd-pipeline","title":"CI/CD Pipeline","text":"<pre><code>flowchart TD\n    subgraph \"GitHub Actions\"\n        Push[\"\ud83d\udce4 Push / PR\"]\n\n        subgraph \"Lint Job\"\n            Ruff[\"Ruff Check\"]\n            Mypy[\"Mypy\"]\n            Format[\"Format Check\"]\n        end\n\n        subgraph \"Test Job\"\n            Test39[\"Python 3.9\"]\n            Test310[\"Python 3.10\"]\n            Test311[\"Python 3.11\"]\n            Test312[\"Python 3.12\"]\n        end\n\n        subgraph \"Build Job\"\n            Build[\"Build Package\"]\n            Check[\"Twine Check\"]\n            Artifact[\"Upload Artifact\"]\n        end\n    end\n\n    Push --&gt; Ruff &amp; Mypy &amp; Format\n    Ruff &amp; Mypy &amp; Format --&gt; Test39 &amp; Test310 &amp; Test311 &amp; Test312\n    Test39 &amp; Test310 &amp; Test311 &amp; Test312 --&gt; Build\n    Build --&gt; Check --&gt; Artifact\n\n    style Push fill:#4CAF50,color:#fff\n    style Artifact fill:#2196F3,color:#fff</code></pre>"},{"location":"architecture/#git-workflow","title":"Git Workflow","text":"<pre><code>gitGraph\n    commit id: \"Initial commit\"\n    branch develop\n    checkout develop\n    commit id: \"feat: CLI\"\n    commit id: \"feat: FastAPI\"\n    branch feature/slack-alerts\n    checkout feature/slack-alerts\n    commit id: \"Add Slack\"\n    commit id: \"Tests\"\n    checkout develop\n    merge feature/slack-alerts id: \"Merge PR #3\"\n    checkout main\n    merge develop id: \"Release v0.1.0\" tag: \"v0.1.0\"</code></pre>"},{"location":"architecture/#learn-more","title":"Learn More","text":"<ul> <li>Getting Started</li> <li>API Reference</li> <li>Contributing</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#030-2026-02-09","title":"[0.3.0] - 2026-02-09","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Drift Explain: New <code>DriftExplainer</code> class with detailed statistical analysis:</li> <li>Mean shift (absolute and percentage)</li> <li>Standard deviation change</li> <li>Quantile differences (configurable Q25, Q50, Q75)</li> <li>Min/Max range changes</li> <li>Visualization: New <code>DriftVisualizer</code> class for histogram overlays:</li> <li><code>plot_feature()</code> for single feature visualization</li> <li><code>plot_all()</code> for multi-feature grid</li> <li><code>save()</code> for exporting to PNG/PDF/SVG</li> <li>Optional Dependency: Added <code>[viz]</code> extra for matplotlib support</li> <li>Documentation: Added comprehensive Drift Explain guide</li> <li>Examples: Added Jupyter notebook tutorial for Google Colab</li> </ul>"},{"location":"changelog/#020-2026-02-04","title":"[0.2.0] - 2026-02-04","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>FastAPI Integration: Added <code>DriftMiddleware</code> for automatic drift monitoring of API endpoints.</li> <li>CLI: Added <code>driftwatch</code> command-line interface with <code>check</code> and <code>report</code> commands.</li> <li>Alerting: Added <code>SlackAlerter</code> for real-time drift notifications.</li> <li>New Detector: Added <code>WassersteinDetector</code> (Earth Mover's Distance) for more robust drift detection.</li> <li>Documentation: Complete rewrite with MkDocs Material, comprehensive guides, and API reference.</li> <li>CI/CD: Added GitHub Actions workflows for testing, publishing, and documentation deployment.</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Core: Improved type hints across the codebase (now 100% typed).</li> <li>Core: Refactored detector registry to separate numerical and categorical detectors.</li> <li>Config: Updated default thresholds for better out-of-the-box performance.</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Dependencies: Fixed missing <code>typer</code>, <code>rich</code>, and <code>httpx</code> optional dependencies.</li> <li>Tests: Fixed flakey tests in registry and alerting modules.</li> </ul>"},{"location":"changelog/#010-2026-01-28","title":"[0.1.0] - 2026-01-28","text":"<ul> <li>Initial release.</li> <li>Basic <code>Monitor</code> class.</li> <li>PSI and KS-Test detectors.</li> <li>Simple JSON reporting.</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Coming soon - contribution guidelines.</p> <p>For now, see GitHub repository.</p>"},{"location":"detectors_guide/","title":"Drift Detectors - When to Use Each","text":"<p>This guide helps you choose the right drift detector for your use case.</p>"},{"location":"detectors_guide/#numerical-features","title":"Numerical Features","text":""},{"location":"detectors_guide/#psi-population-stability-index","title":"PSI (Population Stability Index)","text":"<p>Best for: General-purpose numerical drift detection</p> <ul> <li>How it works: Bins data and compares distribution of samples across bins</li> <li>Threshold: Typically 0.1-0.25</li> <li>Interpretation:</li> <li>PSI &lt; 0.1: No significant drift</li> <li>0.1 \u2264 PSI &lt; 0.2: Moderate drift (investigate)</li> <li>PSI \u2265 0.2: Significant drift (action required)</li> </ul> <p>Use when: - You want a standard, industry-proven drift detector - Your feature has a reasonable range and distribution - You need interpretable thresholds</p>"},{"location":"detectors_guide/#ks-kolmogorov-smirnov-test","title":"KS (Kolmogorov-Smirnov Test)","text":"<p>Best for: Statistical hypothesis testing</p> <ul> <li>How it works: Measures maximum distance between cumulative distributions</li> <li>Threshold: P-value (typically 0.05)</li> <li>Interpretation: P-value &lt; threshold indicates drift</li> </ul> <p>Use when: - You need a formal statistical test - You want p-values for significance testing - Sample sizes are moderate to large (&gt; 100)</p>"},{"location":"detectors_guide/#wasserstein-distance-earth-movers-distance","title":"Wasserstein Distance (Earth Mover's Distance)","text":"<p>Best for: Detecting subtle distributional shifts</p> <ul> <li>How it works: Calculates minimum \"work\" to transform one distribution into another</li> <li>Threshold: Typically 0.1-0.5 (normalized by reference std)</li> <li>Interpretation: Higher values indicate more drift</li> </ul> <p>Use when: - You need high sensitivity to subtle changes - Distribution shape matters (not just mean/variance) - You're monitoring critical features - Small shifts are important to detect early</p> <p>Advantages over PSI/KS: - More sensitive to gradual shifts - Continuous metric (no binning artifacts) - Better for multimodal distributions</p>"},{"location":"detectors_guide/#categorical-features","title":"Categorical Features","text":""},{"location":"detectors_guide/#chi-squared-test","title":"Chi-Squared Test","text":"<p>Best for: Categorical drift detection</p> <ul> <li>How it works: Tests if category frequencies have changed significantly</li> <li>Threshold: P-value (typically 0.05)</li> <li>Interpretation: P-value &lt; threshold indicates drift</li> </ul> <p>Use when: - Feature has discrete categories - You need statistical significance testing - Sample size is adequate (expected count &gt; 5 per category)</p>"},{"location":"detectors_guide/#choosing-between-detectors","title":"Choosing Between Detectors","text":""},{"location":"detectors_guide/#quick-decision-tree","title":"Quick Decision Tree","text":"<pre><code>Is your feature numerical?\n\u251c\u2500 Yes \u2192 Choose based on sensitivity needs:\n\u2502   \u251c\u2500 Standard monitoring \u2192 PSI (threshold=0.2)\n\u2502   \u251c\u2500 Need p-values \u2192 KS (threshold=0.05)\n\u2502   \u2514\u2500 High sensitivity needed \u2192 Wasserstein (threshold=0.1)\n\u2514\u2500 No (categorical) \u2192 Chi-Squared (threshold=0.05)\n</code></pre>"},{"location":"detectors_guide/#comparison-table","title":"Comparison Table","text":"Detector Type Sensitivity Interpretability Speed Best For PSI Numerical Medium High Fast General use KS Numerical Medium Medium Fast Hypothesis testing Wasserstein Numerical High Medium Medium Subtle shifts Chi\u00b2 Categorical Medium High Fast Categories"},{"location":"detectors_guide/#examples","title":"Examples","text":""},{"location":"detectors_guide/#using-different-detectors","title":"Using Different Detectors","text":"<pre><code>from driftwatch import Monitor\n\n# Default (PSI for numerical, Chi\u00b2 for categorical)\nmonitor = Monitor(reference_data=train_df)\n\n# Explicit detector per feature\nmonitor = Monitor(\n    reference_data=train_df,\n    thresholds={\n        \"psi\": 0.15,\n        \"wasserstein\": 0.2,\n        \"ks_pvalue\": 0.05,\n    }\n)\n\n# Using registry to get specific detector\nfrom driftwatch.detectors.registry import get_detector_by_name\n\nwasserstein = get_detector_by_name(\n    \"wasserstein\", \n    thresholds={\"wasserstein\": 0.1}\n)\n</code></pre>"},{"location":"detectors_guide/#advanced-tips","title":"Advanced Tips","text":""},{"location":"detectors_guide/#when-to-use-wasserstein","title":"When to Use Wasserstein","text":"<p>Wasserstein is particularly useful for: - Time series features: Detect gradual temporal changes - High-stakes predictions: Early warning for critical models - Multimodal distributions: Better than PSI which bins data - Small sample sizes: More robust than KS test</p>"},{"location":"detectors_guide/#threshold-tuning","title":"Threshold Tuning","text":"<p>Start with defaults and adjust based on: 1. Sensitivity needs: Lower threshold = more sensitive 2. False positive tolerance: Higher threshold = fewer alerts 3. Historical data: Analyze typical variation in your domain</p>"},{"location":"detectors_guide/#combining-detectors","title":"Combining Detectors","text":"<p>For critical features, monitor with multiple detectors: <pre><code># Monitor age with both PSI and Wasserstein\npsi_result = psi_detector.detect(ref[\"age\"], prod[\"age\"])\nwass_result = wasserstein_detector.detect(ref[\"age\"], prod[\"age\"])\n\nif psi_result.has_drift or wass_result.has_drift:\n    alert(\"Drift detected in age feature\")\n</code></pre></p>"},{"location":"getting-started/","title":"Getting Started with DriftWatch","text":"<p>This guide will help you get started with DriftWatch for monitoring data and model drift in your ML systems.</p>"},{"location":"getting-started/#installation","title":"Installation","text":"<pre><code>pip install driftwatch\n</code></pre> <p>With optional dependencies:</p> <pre><code># CLI support\npip install driftwatch[cli]\n\n# FastAPI middleware\npip install driftwatch[fastapi]\n\n# All integrations\npip install driftwatch[all]\n</code></pre>"},{"location":"getting-started/#quick-example","title":"Quick Example","text":"<pre><code>import pandas as pd\nfrom driftwatch import Monitor\n\n# Your training data\ntrain_df = pd.DataFrame({\n    \"age\": [25, 30, 35, 40, 45],\n    \"income\": [50000, 60000, 70000, 80000, 90000],\n    \"category\": [\"A\", \"B\", \"A\", \"C\", \"B\"],\n})\n\n# Initialize monitor with reference data\nmonitor = Monitor(\n    reference_data=train_df,\n    features=[\"age\", \"income\", \"category\"],\n    thresholds={\n        \"psi\": 0.2,        # PSI threshold for numerical\n        \"ks_pvalue\": 0.05, # KS test p-value threshold\n        \"chi2_pvalue\": 0.05, # Chi-squared p-value for categorical\n    }\n)\n\n# Check production data for drift\nproduction_df = pd.DataFrame({\n    \"age\": [50, 55, 60, 65, 70],  # Older than training\n    \"income\": [100000, 110000, 120000, 130000, 140000],\n    \"category\": [\"C\", \"C\", \"C\", \"A\", \"A\"],\n})\n\nreport = monitor.check(production_df)\n\n# View results\nprint(report.summary())\nprint(f\"Status: {report.status}\")\nprint(f\"Drifted features: {report.drifted_features()}\")\n\n# Export as JSON\nprint(report.to_json())\n</code></pre>"},{"location":"getting-started/#understanding-the-report","title":"Understanding the Report","text":"<p>The <code>DriftReport</code> provides several methods:</p> Method Description <code>has_drift()</code> Returns <code>True</code> if any feature has drift <code>drifted_features()</code> List of feature names with detected drift <code>status</code> Overall status: OK, WARNING, or CRITICAL <code>summary()</code> Human-readable summary string <code>to_dict()</code> Dictionary representation <code>to_json()</code> JSON string representation"},{"location":"getting-started/#drift-status-levels","title":"Drift Status Levels","text":"Status Meaning <code>OK</code> No drift detected <code>WARNING</code> &lt;50% of features have drift <code>CRITICAL</code> \u226550% of features have drift"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Available Drift Tests</li> <li>CLI Usage</li> <li>FastAPI Integration</li> <li>API Reference</li> </ul>"},{"location":"api/detectors/","title":"Detectors API","text":""},{"location":"api/detectors/#driftwatch.detectors.base.BaseDetector","title":"driftwatch.detectors.base.BaseDetector","text":"<pre><code>BaseDetector(threshold: float, name: str)\n</code></pre> <p>               Bases: <code>ABC</code></p> <p>Abstract base class for drift detectors.</p> <p>All drift detection methods should inherit from this class and implement the <code>detect</code> method.</p> <p>Parameters:</p> Name Type Description Default <code>threshold</code> <code>float</code> <p>Threshold value for determining drift</p> required <code>name</code> <code>str</code> <p>Human-readable name for the detector</p> required Source code in <code>src/driftwatch/detectors/base.py</code> <pre><code>def __init__(self, threshold: float, name: str) -&gt; None:\n    self.threshold = threshold\n    self.name = name\n</code></pre>"},{"location":"api/detectors/#driftwatch.detectors.base.BaseDetector.detect","title":"detect  <code>abstractmethod</code>","text":"<pre><code>detect(reference: Series, production: Series) -&gt; DetectionResult\n</code></pre> <p>Detect drift between reference and production data.</p> <p>Parameters:</p> Name Type Description Default <code>reference</code> <code>Series</code> <p>Reference data series</p> required <code>production</code> <code>Series</code> <p>Production data series</p> required <p>Returns:</p> Type Description <code>DetectionResult</code> <p>DetectionResult with drift status and metrics</p> Source code in <code>src/driftwatch/detectors/base.py</code> <pre><code>@abstractmethod\ndef detect(\n    self,\n    reference: pd.Series,\n    production: pd.Series,\n) -&gt; DetectionResult:\n    \"\"\"\n    Detect drift between reference and production data.\n\n    Args:\n        reference: Reference data series\n        production: Production data series\n\n    Returns:\n        DetectionResult with drift status and metrics\n    \"\"\"\n    ...\n</code></pre>"},{"location":"api/detectors/#driftwatch.detectors.numerical.PSIDetector","title":"driftwatch.detectors.numerical.PSIDetector","text":"<pre><code>PSIDetector(threshold: float = 0.2, buckets: int = 10)\n</code></pre> <p>               Bases: <code>BaseDetector</code></p> <p>Population Stability Index (PSI) for numerical drift detection.</p> <p>PSI measures the shift in distribution between two populations. Commonly used thresholds: - PSI &lt; 0.1: No significant change - 0.1 &lt;= PSI &lt; 0.2: Minor shift - PSI &gt;= 0.2: Significant shift (drift)</p> <p>Parameters:</p> Name Type Description Default <code>threshold</code> <code>float</code> <p>PSI value above which drift is detected. Default is 0.2.</p> <code>0.2</code> <code>buckets</code> <code>int</code> <p>Number of buckets for binning. Default is 10.</p> <code>10</code> Example <p>detector = PSIDetector(threshold=0.2, buckets=10) result = detector.detect(reference_series, production_series)</p> Source code in <code>src/driftwatch/detectors/numerical.py</code> <pre><code>def __init__(self, threshold: float = 0.2, buckets: int = 10) -&gt; None:\n    super().__init__(threshold=threshold, name=\"psi\")\n    self.buckets = buckets\n</code></pre>"},{"location":"api/detectors/#driftwatch.detectors.numerical.PSIDetector.detect","title":"detect","text":"<pre><code>detect(reference: Series, production: Series) -&gt; DetectionResult\n</code></pre> <p>Calculate PSI between reference and production distributions.</p> <p>Returns:</p> Type Description <code>DetectionResult</code> <p>DetectionResult with PSI score</p> Source code in <code>src/driftwatch/detectors/numerical.py</code> <pre><code>def detect(\n    self,\n    reference: pd.Series,\n    production: pd.Series,\n) -&gt; DetectionResult:\n    \"\"\"\n    Calculate PSI between reference and production distributions.\n\n    Returns:\n        DetectionResult with PSI score\n    \"\"\"\n    self._validate_inputs(reference, production)\n\n    psi_value = self._calculate_psi(\n        np.asarray(reference.dropna().values),\n        np.asarray(production.dropna().values),\n    )\n\n    return DetectionResult(\n        has_drift=psi_value &gt;= self.threshold,\n        score=float(psi_value),\n        method=self.name,\n        threshold=self.threshold,\n        p_value=None,\n    )\n</code></pre>"},{"location":"api/detectors/#driftwatch.detectors.numerical.KSDetector","title":"driftwatch.detectors.numerical.KSDetector","text":"<pre><code>KSDetector(threshold: float = 0.05)\n</code></pre> <p>               Bases: <code>BaseDetector</code></p> <p>Kolmogorov-Smirnov test for numerical drift detection.</p> <p>The KS test measures the maximum distance between the cumulative distribution functions of two samples.</p> <p>Parameters:</p> Name Type Description Default <code>threshold</code> <code>float</code> <p>P-value threshold below which drift is detected. Default is 0.05 (95% confidence).</p> <code>0.05</code> Example <p>detector = KSDetector(threshold=0.05) result = detector.detect(reference_series, production_series) print(f\"Drift detected: {result.has_drift}\")</p> Source code in <code>src/driftwatch/detectors/numerical.py</code> <pre><code>def __init__(self, threshold: float = 0.05) -&gt; None:\n    super().__init__(threshold=threshold, name=\"ks_test\")\n</code></pre>"},{"location":"api/detectors/#driftwatch.detectors.numerical.KSDetector.detect","title":"detect","text":"<pre><code>detect(reference: Series, production: Series) -&gt; DetectionResult\n</code></pre> <p>Perform KS test between reference and production distributions.</p> <p>Returns:</p> Type Description <code>DetectionResult</code> <p>DetectionResult with KS statistic as score and p-value</p> Source code in <code>src/driftwatch/detectors/numerical.py</code> <pre><code>def detect(\n    self,\n    reference: pd.Series,\n    production: pd.Series,\n) -&gt; DetectionResult:\n    \"\"\"\n    Perform KS test between reference and production distributions.\n\n    Returns:\n        DetectionResult with KS statistic as score and p-value\n    \"\"\"\n    self._validate_inputs(reference, production)\n\n    statistic, p_value = stats.ks_2samp(\n        reference.dropna(),\n        production.dropna(),\n    )\n\n    return DetectionResult(\n        has_drift=p_value &lt; self.threshold,\n        score=float(statistic),\n        method=self.name,\n        threshold=self.threshold,\n        p_value=float(p_value),\n    )\n</code></pre>"},{"location":"api/detectors/#driftwatch.detectors.numerical.WassersteinDetector","title":"driftwatch.detectors.numerical.WassersteinDetector","text":"<pre><code>WassersteinDetector(threshold: float = 0.1)\n</code></pre> <p>               Bases: <code>BaseDetector</code></p> <p>Wasserstein distance (Earth Mover's Distance) for drift detection.</p> <p>Measures the minimum \"work\" required to transform one distribution into another. More sensitive to subtle distributional changes.</p> <p>Parameters:</p> Name Type Description Default <code>threshold</code> <code>float</code> <p>Distance above which drift is detected.</p> <code>0.1</code> Source code in <code>src/driftwatch/detectors/numerical.py</code> <pre><code>def __init__(self, threshold: float = 0.1) -&gt; None:\n    super().__init__(threshold=threshold, name=\"wasserstein\")\n</code></pre>"},{"location":"api/detectors/#driftwatch.detectors.numerical.WassersteinDetector.detect","title":"detect","text":"<pre><code>detect(reference: Series, production: Series) -&gt; DetectionResult\n</code></pre> <p>Calculate Wasserstein distance between distributions.</p> <p>Note: Values are normalized by the reference standard deviation to make the threshold more interpretable.</p> Source code in <code>src/driftwatch/detectors/numerical.py</code> <pre><code>def detect(\n    self,\n    reference: pd.Series,\n    production: pd.Series,\n) -&gt; DetectionResult:\n    \"\"\"\n    Calculate Wasserstein distance between distributions.\n\n    Note: Values are normalized by the reference standard deviation\n    to make the threshold more interpretable.\n    \"\"\"\n    self._validate_inputs(reference, production)\n\n    ref_clean = reference.dropna().values\n    prod_clean = production.dropna().values\n\n    distance = stats.wasserstein_distance(ref_clean, prod_clean)\n\n    # Normalize by reference std for interpretability\n    ref_std = np.std(ref_clean)\n    normalized_distance = distance / ref_std if ref_std &gt; 0 else distance\n\n    return DetectionResult(\n        has_drift=normalized_distance &gt;= self.threshold,\n        score=float(normalized_distance),\n        method=self.name,\n        threshold=self.threshold,\n        p_value=None,\n    )\n</code></pre>"},{"location":"api/detectors/#driftwatch.detectors.categorical.ChiSquaredDetector","title":"driftwatch.detectors.categorical.ChiSquaredDetector","text":"<pre><code>ChiSquaredDetector(threshold: float = 0.05)\n</code></pre> <p>               Bases: <code>BaseDetector</code></p> <p>Chi-Squared test for categorical drift detection.</p> <p>Tests whether the frequency distribution of categories has changed between reference and production data.</p> <p>Parameters:</p> Name Type Description Default <code>threshold</code> <code>float</code> <p>P-value threshold below which drift is detected. Default is 0.05 (95% confidence).</p> <code>0.05</code> Example <p>detector = ChiSquaredDetector(threshold=0.05) result = detector.detect(reference_series, production_series)</p> Source code in <code>src/driftwatch/detectors/categorical.py</code> <pre><code>def __init__(self, threshold: float = 0.05) -&gt; None:\n    super().__init__(threshold=threshold, name=\"chi_squared\")\n</code></pre>"},{"location":"api/detectors/#driftwatch.detectors.categorical.ChiSquaredDetector.detect","title":"detect","text":"<pre><code>detect(reference: Series, production: Series) -&gt; DetectionResult\n</code></pre> <p>Perform Chi-Squared test on category frequencies.</p> <p>Returns:</p> Type Description <code>DetectionResult</code> <p>DetectionResult with chi-squared statistic and p-value</p> Source code in <code>src/driftwatch/detectors/categorical.py</code> <pre><code>def detect(\n    self,\n    reference: pd.Series,\n    production: pd.Series,\n) -&gt; DetectionResult:\n    \"\"\"\n    Perform Chi-Squared test on category frequencies.\n\n    Returns:\n        DetectionResult with chi-squared statistic and p-value\n    \"\"\"\n    self._validate_inputs(reference, production)\n\n    # Get all categories from both datasets\n    all_categories = set(reference.dropna().unique()) | set(\n        production.dropna().unique()\n    )\n\n    # Count frequencies\n    ref_counts = reference.value_counts()\n    prod_counts = production.value_counts()\n\n    # Align to same categories\n    ref_freq = np.array([ref_counts.get(cat, 0) for cat in all_categories])\n    prod_freq = np.array([prod_counts.get(cat, 0) for cat in all_categories])\n\n    # Handle edge case of zero frequencies\n    if ref_freq.sum() == 0 or prod_freq.sum() == 0:\n        return DetectionResult(\n            has_drift=True,\n            score=float(\"inf\"),\n            method=self.name,\n            threshold=self.threshold,\n            p_value=0.0,\n        )\n\n    # Calculate expected frequencies based on reference proportions\n    ref_proportions = ref_freq / ref_freq.sum()\n    expected = ref_proportions * prod_freq.sum()\n\n    # Add small epsilon to avoid division by zero\n    expected = np.maximum(expected, 1e-10)\n\n    # Chi-squared statistic\n    statistic, p_value = stats.chisquare(prod_freq, f_exp=expected)\n\n    return DetectionResult(\n        has_drift=p_value &lt; self.threshold,\n        score=float(statistic),\n        method=self.name,\n        threshold=self.threshold,\n        p_value=float(p_value),\n    )\n</code></pre>"},{"location":"api/integrations/","title":"Integrations API","text":""},{"location":"api/integrations/#driftwatch.integrations.fastapi.DriftMiddleware","title":"driftwatch.integrations.fastapi.DriftMiddleware","text":"<pre><code>DriftMiddleware(app: ASGIApp, monitor: Monitor, feature_extractor: Callable[[dict[str, Any]], dict[str, Any]] | None = None, prediction_extractor: Callable[[dict[str, Any]], dict[str, Any]] | None = None, check_interval: int = 100, min_samples: int = 50, buffer_size: int = 10000, enabled: bool = True)\n</code></pre> <p>               Bases: <code>BaseHTTPMiddleware</code></p> <p>FastAPI middleware for automatic drift monitoring.</p> <p>Collects input features from requests and runs drift detection on a configurable schedule.</p> <p>Parameters:</p> Name Type Description Default <code>app</code> <code>ASGIApp</code> <p>The ASGI application</p> required <code>monitor</code> <code>Monitor</code> <p>DriftWatch Monitor instance with reference data</p> required <code>feature_extractor</code> <code>Callable[[dict[str, Any]], dict[str, Any]] | None</code> <p>Function to extract features from request body. Defaults to returning the entire request body as features.</p> <code>None</code> <code>check_interval</code> <code>int</code> <p>Number of requests between drift checks. Set to 0 to disable automatic checks.</p> <code>100</code> <code>min_samples</code> <code>int</code> <p>Minimum samples required before running drift check.</p> <code>50</code> <code>enabled</code> <code>bool</code> <p>Whether drift collection is enabled.</p> <code>True</code> Example <pre><code>from fastapi import FastAPI\nfrom driftwatch import Monitor\nfrom driftwatch.integrations.fastapi import DriftMiddleware\n\nmonitor = Monitor(reference_data=train_df)\napp = FastAPI()\n\napp.add_middleware(\n    DriftMiddleware,\n    monitor=monitor,\n    check_interval=100,\n)\n</code></pre> Source code in <code>src/driftwatch/integrations/fastapi.py</code> <pre><code>def __init__(\n    self,\n    app: ASGIApp,\n    monitor: Monitor,\n    feature_extractor: Callable[[dict[str, Any]], dict[str, Any]] | None = None,\n    prediction_extractor: Callable[[dict[str, Any]], dict[str, Any]] | None = None,\n    check_interval: int = 100,\n    min_samples: int = 50,\n    buffer_size: int = 10000,\n    enabled: bool = True,\n) -&gt; None:\n    super().__init__(app)\n    self.monitor = monitor\n    self.feature_extractor = feature_extractor or (lambda x: x)\n    self.prediction_extractor = prediction_extractor\n    self.check_interval = check_interval\n    self.min_samples = min_samples\n    self.buffer_size = buffer_size\n    self.enabled = enabled\n    self.state = DriftState(\n        samples=deque(maxlen=buffer_size),\n        predictions=deque(maxlen=buffer_size),\n    )\n    self._background_tasks: set[asyncio.Task[None]] = set()\n</code></pre>"},{"location":"api/integrations/#driftwatch.integrations.fastapi.DriftMiddleware.dispatch","title":"dispatch  <code>async</code>","text":"<pre><code>dispatch(request: Request, call_next: Callable) -&gt; Response\n</code></pre> <p>Process request and collect features for drift monitoring.</p> Source code in <code>src/driftwatch/integrations/fastapi.py</code> <pre><code>async def dispatch(self, request: Request, call_next: Callable) -&gt; Response:\n    \"\"\"Process request and collect features for drift monitoring.\"\"\"\n    if not self.enabled:\n        return cast(\"Response\", await call_next(request))\n\n    # Skip non-POST requests and internal endpoints\n    if request.method != \"POST\" or request.url.path.startswith(\"/drift\"):\n        return cast(\"Response\", await call_next(request))\n\n    # Try to extract features from request body\n    try:\n        body = await request.json()\n        features = self.feature_extractor(body)\n\n        if features and isinstance(features, dict):\n            # Filter to only monitored features\n            monitored = {\n                k: v\n                for k, v in features.items()\n                if k in self.monitor.monitored_features\n            }\n            if monitored:\n                self.state.add_sample(monitored)\n\n    except Exception:\n        # Don't fail the request if feature extraction fails\n        pass\n\n    # Process the request\n    response = cast(\"Response\", await call_next(request))\n\n    # Try to extract predictions from response\n    if self.prediction_extractor is not None:\n        try:\n            # For JSONResponse, we can access the body\n            if hasattr(response, \"body\"):\n                import json\n\n                response_body = json.loads(response.body)\n                prediction = self.prediction_extractor(response_body)\n                if prediction and isinstance(prediction, dict):\n                    self.state.add_prediction(prediction)\n        except Exception:\n            pass\n\n    # Check if we should run drift detection\n    if self._should_check_drift():\n        task = asyncio.create_task(self._run_drift_check())\n        self._background_tasks.add(task)\n        task.add_done_callback(self._background_tasks.discard)\n\n    return response\n</code></pre>"},{"location":"api/integrations/#driftwatch.integrations.alerting.SlackAlerter","title":"driftwatch.integrations.alerting.SlackAlerter","text":"<pre><code>SlackAlerter(webhook_url: str, throttle_minutes: int = 60, mention_user: str | None = None, channel_override: str | None = None)\n</code></pre> <p>Send drift alerts to Slack via webhook.</p> <p>Formats drift reports as Slack Block Kit messages with feature-level details and supports alert throttling to avoid spam.</p> <p>Parameters:</p> Name Type Description Default <code>webhook_url</code> <code>str</code> <p>Slack webhook URL (https://hooks.slack.com/...)</p> required <code>throttle_minutes</code> <code>int</code> <p>Minimum minutes between alerts (default: 60)</p> <code>60</code> <code>mention_user</code> <code>str | None</code> <p>Optional Slack user ID to mention (@U123ABC)</p> <code>None</code> <code>channel_override</code> <code>str | None</code> <p>Optional channel to post to (overrides webhook default)</p> <code>None</code> Example <pre><code>from driftwatch.integrations.alerting import SlackAlerter\n\nalerter = SlackAlerter(\n    webhook_url=\"https://hooks.slack.com/services/...\",\n    throttle_minutes=60\n)\n\nif report.has_drift():\n    alerter.send(report)\n</code></pre> Source code in <code>src/driftwatch/integrations/alerting.py</code> <pre><code>def __init__(\n    self,\n    webhook_url: str,\n    throttle_minutes: int = 60,\n    mention_user: str | None = None,\n    channel_override: str | None = None,\n) -&gt; None:\n    self.webhook_url = webhook_url\n    self.throttle_seconds = throttle_minutes * 60\n    self.mention_user = mention_user\n    self.channel_override = channel_override\n    self._last_alert_time: float = 0.0\n</code></pre>"},{"location":"api/integrations/#driftwatch.integrations.alerting.SlackAlerter.send","title":"send","text":"<pre><code>send(report: DriftReport, force: bool = False, custom_message: str | None = None) -&gt; bool\n</code></pre> <p>Send drift report to Slack.</p> <p>Parameters:</p> Name Type Description Default <code>report</code> <code>DriftReport</code> <p>DriftReport to send</p> required <code>force</code> <code>bool</code> <p>Skip throttling check</p> <code>False</code> <code>custom_message</code> <code>str | None</code> <p>Optional custom message prefix</p> <code>None</code> <p>Returns:</p> Type Description <code>bool</code> <p>True if alert was sent, False if throttled</p> <p>Raises:</p> Type Description <code>HTTPError</code> <p>If webhook request fails</p> Source code in <code>src/driftwatch/integrations/alerting.py</code> <pre><code>def send(\n    self,\n    report: DriftReport,\n    force: bool = False,\n    custom_message: str | None = None,\n) -&gt; bool:\n    \"\"\"\n    Send drift report to Slack.\n\n    Args:\n        report: DriftReport to send\n        force: Skip throttling check\n        custom_message: Optional custom message prefix\n\n    Returns:\n        True if alert was sent, False if throttled\n\n    Raises:\n        httpx.HTTPError: If webhook request fails\n    \"\"\"\n    # Check throttling\n    if not force and self._is_throttled():\n        return False\n\n    # Build Slack message\n    blocks = self._build_blocks(report, custom_message)\n    payload: dict[str, Any] = {\"blocks\": blocks}\n\n    if self.channel_override:\n        payload[\"channel\"] = self.channel_override\n\n    # Send to Slack\n    response = httpx.post(\n        self.webhook_url, json=payload, timeout=10.0, follow_redirects=True\n    )\n    response.raise_for_status()\n\n    # Update throttle timestamp\n    self._last_alert_time = time.time()\n\n    return True\n</code></pre>"},{"location":"api/integrations/#driftwatch.integrations.alerting.SlackAlerter.get_next_alert_time","title":"get_next_alert_time","text":"<pre><code>get_next_alert_time() -&gt; datetime | None\n</code></pre> <p>Get the earliest time the next alert can be sent.</p> Source code in <code>src/driftwatch/integrations/alerting.py</code> <pre><code>def get_next_alert_time(self) -&gt; datetime | None:\n    \"\"\"Get the earliest time the next alert can be sent.\"\"\"\n    if self._last_alert_time == 0.0:\n        return None\n\n    next_time = self._last_alert_time + self.throttle_seconds\n    return datetime.fromtimestamp(next_time, tz=timezone.utc)\n</code></pre>"},{"location":"api/integrations/#driftwatch.integrations.alerting.SlackAlerter.reset_throttle","title":"reset_throttle","text":"<pre><code>reset_throttle() -&gt; None\n</code></pre> <p>Reset throttle timer (allows immediate next alert).</p> Source code in <code>src/driftwatch/integrations/alerting.py</code> <pre><code>def reset_throttle(self) -&gt; None:\n    \"\"\"Reset throttle timer (allows immediate next alert).\"\"\"\n    self._last_alert_time = 0.0\n</code></pre>"},{"location":"api/monitor/","title":"Monitor API","text":"<p>The <code>Monitor</code> class is the main entry point for drift detection.</p>"},{"location":"api/monitor/#overview","title":"Overview","text":"<p>The Monitor analyzes feature distributions between reference (training) and production data to detect drift.</p>"},{"location":"api/monitor/#quick-example","title":"Quick Example","text":"<pre><code>from driftwatch import Monitor\nimport pandas as pd\n\n# Load training data\ntrain_df = pd.read_parquet(\"train.parquet\")\n\n# Create monitor\nmonitor = Monitor(\n    reference_data=train_df,\n    thresholds={\n        \"psi\": 0.2,\n        \"ks_pvalue\": 0.05,\n    }\n)\n\n# Check production data\nprod_df = pd.read_parquet(\"prod.parquet\")\nreport = monitor.check(prod_df)\n</code></pre>"},{"location":"api/monitor/#api-reference","title":"API Reference","text":""},{"location":"api/monitor/#driftwatch.core.monitor.Monitor","title":"driftwatch.core.monitor.Monitor","text":"<pre><code>Monitor(reference_data: DataFrame, features: list[str] | None = None, model: Any | None = None, thresholds: dict[str, float] | None = None)\n</code></pre> <p>Main class for monitoring data and model drift.</p> <p>The Monitor compares production data against a reference dataset (typically training data) to detect distribution shifts.</p> <p>Parameters:</p> Name Type Description Default <code>reference_data</code> <code>DataFrame</code> <p>Reference DataFrame (training data)</p> required <code>features</code> <code>list[str] | None</code> <p>List of feature columns to monitor. If None, all columns are monitored.</p> <code>None</code> <code>model</code> <code>Any | None</code> <p>Optional ML model for prediction drift detection</p> <code>None</code> <code>thresholds</code> <code>dict[str, float] | None</code> <p>Dictionary of threshold values for drift detection. Supported keys: \"psi\", \"ks_pvalue\", \"wasserstein\", \"chi2_pvalue\"</p> <code>None</code> Example <p>monitor = Monitor( ...     reference_data=train_df, ...     features=[\"age\", \"income\", \"category\"], ...     thresholds={\"psi\": 0.2, \"ks_pvalue\": 0.05} ... ) report = monitor.check(production_df) print(report.has_drift())</p> Source code in <code>src/driftwatch/core/monitor.py</code> <pre><code>def __init__(\n    self,\n    reference_data: pd.DataFrame,\n    features: list[str] | None = None,\n    model: Any | None = None,\n    thresholds: dict[str, float] | None = None,\n) -&gt; None:\n    self._validate_reference_data(reference_data)\n\n    self.reference_data = reference_data\n    self.features = features or list(reference_data.columns)\n    self.model = model\n    self.thresholds = {**self.DEFAULT_THRESHOLDS, **(thresholds or {})}\n\n    self._detectors: dict[str, BaseDetector] = {}\n    self._setup_detectors()\n</code></pre>"},{"location":"api/monitor/#driftwatch.core.monitor.Monitor.check","title":"check","text":"<pre><code>check(production_data: DataFrame) -&gt; DriftReport\n</code></pre> <p>Check for drift between reference and production data.</p> <p>Parameters:</p> Name Type Description Default <code>production_data</code> <code>DataFrame</code> <p>Production DataFrame to compare</p> required <p>Returns:</p> Type Description <code>DriftReport</code> <p>DriftReport containing per-feature and aggregate drift results</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If production data is empty or missing features</p> Source code in <code>src/driftwatch/core/monitor.py</code> <pre><code>def check(self, production_data: pd.DataFrame) -&gt; DriftReport:\n    \"\"\"\n    Check for drift between reference and production data.\n\n    Args:\n        production_data: Production DataFrame to compare\n\n    Returns:\n        DriftReport containing per-feature and aggregate drift results\n\n    Raises:\n        ValueError: If production data is empty or missing features\n    \"\"\"\n    self._validate_production_data(production_data)\n\n    feature_results: list[FeatureDriftResult] = []\n\n    for feature in self.features:\n        ref_series = self.reference_data[feature]\n        prod_series = production_data[feature]\n\n        detector = self._detectors[feature]\n        result = detector.detect(ref_series, prod_series)\n\n        feature_results.append(\n            FeatureDriftResult(\n                feature_name=feature,\n                has_drift=result.has_drift,\n                score=result.score,\n                method=result.method,\n                threshold=result.threshold,\n                p_value=result.p_value,\n            )\n        )\n\n    return DriftReport(\n        feature_results=feature_results,\n        reference_size=len(self.reference_data),\n        production_size=len(production_data),\n    )\n</code></pre>"},{"location":"api/monitor/#configuration","title":"Configuration","text":""},{"location":"api/monitor/#thresholds","title":"Thresholds","text":"<p>Control sensitivity of drift detection:</p> <pre><code>monitor = Monitor(\n    reference_data=train_df,\n    thresholds={\n        \"psi\": 0.15,           # More sensitive than default 0.2\n        \"ks_pvalue\": 0.01,     # More strict than default 0.05\n        \"chi2_pvalue\": 0.05,   # Default\n        \"wasserstein\": 0.2,    # For Wasserstein detector\n    }\n)\n</code></pre>"},{"location":"api/monitor/#model-version-tracking","title":"Model Version Tracking","text":"<p>Track which model version is being monitored:</p> <pre><code>monitor = Monitor(\n    reference_data=train_df,\n    model_version=\"v1.2.3\"\n)\n\nreport = monitor.check(prod_df)\nprint(report.model_version)  # \"v1.2.3\"\n</code></pre>"},{"location":"api/monitor/#methods","title":"Methods","text":""},{"location":"api/monitor/#check","title":"check()","text":"<p>Detect drift in production data:</p> <pre><code>report = monitor.check(\n    production_data=prod_df,\n    # Optional: override thresholds per feature\n    feature_thresholds={\n        \"age\": {\"psi\": 0.1},  # More sensitive for age\n    }\n)\n</code></pre>"},{"location":"api/monitor/#update_reference","title":"update_reference()","text":"<p>Update reference data (e.g., after model retraining):</p> <pre><code># Retrain model with new data\nnew_train_df = pd.read_parquet(\"retrain_data.parquet\")\n\n# Update monitor\nmonitor.update_reference(new_train_df)\n</code></pre>"},{"location":"api/monitor/#best-practices","title":"Best Practices","text":""},{"location":"api/monitor/#1-choose-appropriate-reference-data","title":"1. Choose Appropriate Reference Data","text":"<p>Reference data should represent your model's training distribution:</p> <pre><code># \u2713 Good: Use actual training data\nmonitor = Monitor(reference_data=train_df)\n\n# \u2717 Bad: Using validation data with different distribution\nmonitor = Monitor(reference_data=val_df)\n</code></pre>"},{"location":"api/monitor/#2-set-thresholds-based-on-business-impact","title":"2. Set Thresholds Based on Business Impact","text":"<pre><code># High-stakes model: strict thresholds\ncritical_monitor = Monitor(\n    reference_data=train_df,\n    thresholds={\"psi\": 0.1, \"ks_pvalue\": 0.01}\n)\n\n# Exploratory model: relaxed thresholds\nexploratory_monitor = Monitor(\n    reference_data=train_df,\n    thresholds={\"psi\": 0.3}\n)\n</code></pre>"},{"location":"api/monitor/#3-version-your-reference-data","title":"3. Version Your Reference Data","text":"<pre><code>import joblib\n\n# Save monitor for reproducibility\njoblib.dump(monitor, f\"monitor_v{model_version}.pkl\")\n\n# Load later\nmonitor = joblib.load(\"monitor_v1.2.3.pkl\")\n</code></pre>"},{"location":"api/monitor/#see-also","title":"See Also","text":"<ul> <li>Drift Detectors \u2192 - Available detection methods</li> <li>Reports \u2192 - Working with drift reports</li> <li>Thresholds Guide \u2192 - Tuning sensitivity</li> </ul>"},{"location":"api/reports/","title":"Reports API","text":""},{"location":"api/reports/#driftwatch.core.report.DriftReport","title":"driftwatch.core.report.DriftReport  <code>dataclass</code>","text":"<pre><code>DriftReport(feature_results: list[FeatureDriftResult], reference_size: int, production_size: int, timestamp: datetime = (lambda: now(utc))(), model_version: str | None = None)\n</code></pre> <p>Comprehensive report of drift detection results.</p> <p>Contains per-feature metrics and aggregate status.</p> <p>Attributes:</p> Name Type Description <code>feature_results</code> <code>list[FeatureDriftResult]</code> <p>List of per-feature drift results</p> <code>reference_size</code> <code>int</code> <p>Number of samples in reference data</p> <code>production_size</code> <code>int</code> <p>Number of samples in production data</p> <code>timestamp</code> <code>datetime</code> <p>When the check was performed</p> <code>model_version</code> <code>str | None</code> <p>Optional model version identifier</p>"},{"location":"api/reports/#driftwatch.core.report.DriftReport.status","title":"status  <code>property</code>","text":"<pre><code>status: DriftStatus\n</code></pre> <p>Determine overall drift status.</p> <ul> <li>OK: No drift detected</li> <li>WARNING: &lt;50% of features have drift</li> <li>CRITICAL: &gt;=50% of features have drift</li> </ul>"},{"location":"api/reports/#driftwatch.core.report.DriftReport.has_drift","title":"has_drift","text":"<pre><code>has_drift() -&gt; bool\n</code></pre> <p>Check if any feature has drift.</p> Source code in <code>src/driftwatch/core/report.py</code> <pre><code>def has_drift(self) -&gt; bool:\n    \"\"\"Check if any feature has drift.\"\"\"\n    return any(r.has_drift for r in self.feature_results)\n</code></pre>"},{"location":"api/reports/#driftwatch.core.report.DriftReport.drifted_features","title":"drifted_features","text":"<pre><code>drifted_features() -&gt; list[str]\n</code></pre> <p>Return list of features with detected drift.</p> Source code in <code>src/driftwatch/core/report.py</code> <pre><code>def drifted_features(self) -&gt; list[str]:\n    \"\"\"Return list of features with detected drift.\"\"\"\n    return [r.feature_name for r in self.feature_results if r.has_drift]\n</code></pre>"},{"location":"api/reports/#driftwatch.core.report.DriftReport.drift_ratio","title":"drift_ratio","text":"<pre><code>drift_ratio() -&gt; float\n</code></pre> <p>Return ratio of drifted features to total features.</p> Source code in <code>src/driftwatch/core/report.py</code> <pre><code>def drift_ratio(self) -&gt; float:\n    \"\"\"Return ratio of drifted features to total features.\"\"\"\n    if not self.feature_results:\n        return 0.0\n    return len(self.drifted_features()) / len(self.feature_results)\n</code></pre>"},{"location":"api/reports/#driftwatch.core.report.DriftReport.feature_drift","title":"feature_drift","text":"<pre><code>feature_drift(feature_name: str) -&gt; FeatureDriftResult | None\n</code></pre> <p>Get drift result for a specific feature.</p> Source code in <code>src/driftwatch/core/report.py</code> <pre><code>def feature_drift(self, feature_name: str) -&gt; FeatureDriftResult | None:\n    \"\"\"Get drift result for a specific feature.\"\"\"\n    for result in self.feature_results:\n        if result.feature_name == feature_name:\n            return result\n    return None\n</code></pre>"},{"location":"api/reports/#driftwatch.core.report.DriftReport.summary","title":"summary","text":"<pre><code>summary() -&gt; str\n</code></pre> <p>Generate a human-readable summary of the drift report.</p> <p>Returns:</p> Type Description <code>str</code> <p>Formatted string summary</p> Source code in <code>src/driftwatch/core/report.py</code> <pre><code>def summary(self) -&gt; str:\n    \"\"\"\n    Generate a human-readable summary of the drift report.\n\n    Returns:\n        Formatted string summary\n    \"\"\"\n    lines = [\n        \"=\" * 50,\n        \"DRIFT REPORT\",\n        \"=\" * 50,\n        f\"Status: {self.status.value}\",\n        f\"Timestamp: {self.timestamp.isoformat()}\",\n        f\"Reference samples: {self.reference_size:,}\",\n        f\"Production samples: {self.production_size:,}\",\n        \"\",\n        f\"Features analyzed: {len(self.feature_results)}\",\n        f\"Features with drift: {len(self.drifted_features())}\",\n        f\"Drift ratio: {self.drift_ratio():.1%}\",\n        \"\",\n    ]\n\n    if self.drifted_features():\n        lines.append(\"Drifted features:\")\n        for result in self.feature_results:\n            if result.has_drift:\n                lines.append(\n                    f\"  - {result.feature_name}: \"\n                    f\"{result.method}={result.score:.4f} \"\n                    f\"(threshold={result.threshold})\"\n                )\n\n    lines.append(\"=\" * 50)\n    return \"\\n\".join(lines)\n</code></pre>"},{"location":"api/reports/#driftwatch.core.report.DriftReport.to_dict","title":"to_dict","text":"<pre><code>to_dict() -&gt; dict[str, Any]\n</code></pre> <p>Convert report to dictionary.</p> Source code in <code>src/driftwatch/core/report.py</code> <pre><code>def to_dict(self) -&gt; dict[str, Any]:\n    \"\"\"Convert report to dictionary.\"\"\"\n    return {\n        \"status\": self.status.value,\n        \"timestamp\": self.timestamp.isoformat(),\n        \"reference_size\": self.reference_size,\n        \"production_size\": self.production_size,\n        \"model_version\": self.model_version,\n        \"has_drift\": self.has_drift(),\n        \"drift_ratio\": self.drift_ratio(),\n        \"drifted_features\": self.drifted_features(),\n        \"feature_results\": [r.to_dict() for r in self.feature_results],\n    }\n</code></pre>"},{"location":"api/reports/#driftwatch.core.report.DriftReport.to_json","title":"to_json","text":"<pre><code>to_json(indent: int = 2) -&gt; str\n</code></pre> <p>Convert report to JSON string.</p> Source code in <code>src/driftwatch/core/report.py</code> <pre><code>def to_json(self, indent: int = 2) -&gt; str:\n    \"\"\"Convert report to JSON string.\"\"\"\n    return json.dumps(self.to_dict(), indent=indent, default=str)\n</code></pre>"},{"location":"api/reports/#driftwatch.core.report.FeatureDriftResult","title":"driftwatch.core.report.FeatureDriftResult  <code>dataclass</code>","text":"<pre><code>FeatureDriftResult(feature_name: str, has_drift: bool, score: float, method: str, threshold: float, p_value: float | None = None)\n</code></pre> <p>Result of drift detection for a single feature.</p>"},{"location":"api/reports/#driftwatch.core.report.FeatureDriftResult.to_dict","title":"to_dict","text":"<pre><code>to_dict() -&gt; dict[str, Any]\n</code></pre> <p>Convert to dictionary.</p> Source code in <code>src/driftwatch/core/report.py</code> <pre><code>def to_dict(self) -&gt; dict[str, Any]:\n    \"\"\"Convert to dictionary.\"\"\"\n    return {\n        \"feature_name\": self.feature_name,\n        \"has_drift\": self.has_drift,\n        \"score\": self.score,\n        \"method\": self.method,\n        \"threshold\": self.threshold,\n        \"p_value\": self.p_value,\n    }\n</code></pre>"},{"location":"api/reports/#driftwatch.core.report.DriftStatus","title":"driftwatch.core.report.DriftStatus","text":"<p>               Bases: <code>str</code>, <code>Enum</code></p> <p>Overall drift status levels.</p>"},{"location":"examples/basic/","title":"Basic Usage Examples","text":"<p>See Quickstart for basic examples.</p>"},{"location":"examples/custom-detectors/","title":"Custom Detectors","text":"<p>Coming soon - guide to creating custom drift detectors.</p>"},{"location":"examples/production/","title":"Production Deployment","text":"<p>Coming soon - production deployment patterns and best practices.</p>"},{"location":"getting-started/concepts/","title":"Core Concepts","text":"<p>Understand the fundamentals of drift detection with DriftWatch.</p>"},{"location":"getting-started/concepts/#what-is-drift","title":"What is Drift?","text":"<p>Drift occurs when the statistical properties of your production data diverge from your training data.</p>"},{"location":"getting-started/concepts/#types-of-drift","title":"Types of Drift","text":""},{"location":"getting-started/concepts/#1-feature-drift-covariate-shift","title":"1. Feature Drift (Covariate Shift)","text":"<p>Input features change distribution:</p> <pre><code>Training:  age ~ N(35, 10)\nProduction: age ~ N(45, 12)  \u2190 Distribution shifted!\n</code></pre>"},{"location":"getting-started/concepts/#2-label-drift","title":"2. Label Drift","text":"<p>Target variable distribution changes (not detected by DriftWatch).</p>"},{"location":"getting-started/concepts/#3-concept-drift","title":"3. Concept Drift","text":"<p>The relationship between features and target changes.</p>"},{"location":"getting-started/concepts/#how-driftwatch-works","title":"How DriftWatch Works","text":"<pre><code>graph LR\n    A[Reference Data] --&gt; B[Monitor]\n    C[Production Data] --&gt; B\n    B --&gt; D{Detector}\n    D --&gt; E[PSI/KS/Chi\u00b2]\n    E --&gt; F[Report]\n    F --&gt; G{has_drift?}\n    G --&gt;|Yes| H[Alert/Action]\n    G --&gt;|No| I[Continue]</code></pre>"},{"location":"getting-started/concepts/#1-reference-phase","title":"1. Reference Phase","text":"<p>Store training data statistics:</p> <pre><code>monitor = Monitor(reference_data=train_df)\n</code></pre>"},{"location":"getting-started/concepts/#2-detection-phase","title":"2. Detection Phase","text":"<p>Compare production data:</p> <pre><code>report = monitor.check(prod_df)\n</code></pre>"},{"location":"getting-started/concepts/#3-action-phase","title":"3. Action Phase","text":"<p>Respond to drift:</p> <pre><code>if report.has_drift():\n    # Retrain, alert, investigate, etc.\n    alerter.send(report)\n</code></pre>"},{"location":"getting-started/concepts/#drift-metrics","title":"Drift Metrics","text":""},{"location":"getting-started/concepts/#psi-population-stability-index","title":"PSI (Population Stability Index)","text":"<p>measures bin-wise distribution divergence.</p> <p>Formula: <pre><code>PSI = \u03a3 (p_prod - p_ref) \u00d7 ln(p_prod / p_ref)\n</code></pre></p> <p>Interpretation:</p> <ul> <li>PSI &lt; 0.1: No drift</li> <li>0.1 \u2264 PSI &lt; 0.2: Moderate drift</li> <li>PSI \u2265 0.2: Significant drift</li> </ul>"},{"location":"getting-started/concepts/#ks-test-kolmogorov-smirnov","title":"KS Test (Kolmogorov-Smirnov)","text":"<p>Statistical hypothesis test comparing CDFs.</p> <p>Null Hypothesis: Distributions are identical</p> <p>p-value &lt; threshold \u2192 Reject null \u2192 Drift detected</p>"},{"location":"getting-started/concepts/#wasserstein-distance","title":"Wasserstein Distance","text":"<p>\"Earth Mover's Distance\" - minimum work to transform distributions.</p> <p>More sensitive to subtle changes than PSI.</p>"},{"location":"getting-started/concepts/#when-to-check-for-drift","title":"When to Check for Drift","text":""},{"location":"getting-started/concepts/#batch-monitoring","title":"Batch Monitoring","text":"<p>Check periodically (daily/weekly):</p> <pre><code># daily_check.py\nimport schedule\n\ndef check_drift():\n    prod_df = load_latest_production_data()\n    report = monitor.check(prod_df)\n    if report.has_drift():\n        send_alert(report)\n\nschedule.every().day.at(\"00:00\").do(check_drift)\n</code></pre>"},{"location":"getting-started/concepts/#real-time-monitoring","title":"Real-Time Monitoring","text":"<p>Check continuously with FastAPI middleware:</p> <pre><code>app.add_middleware(\n    DriftMiddleware,\n    monitor=monitor,\n    check_interval=100  # Every 100 requests\n)\n</code></pre>"},{"location":"getting-started/concepts/#event-based","title":"Event-Based","text":"<p>Check before/after key events:</p> <pre><code># Before deployment\nreport = monitor.check(validation_data)\nif report.has_drift():\n    raise Exception(\"Cannot deploy: drift detected in validation set\")\n\n# After data refresh\nnew_data = load_new_batch()\nreport = monitor.check(new_data)\n</code></pre>"},{"location":"getting-started/concepts/#responding-to-drift","title":"Responding to Drift","text":""},{"location":"getting-started/concepts/#1-investigate","title":"1. Investigate","text":"<p>Analyze which features drifted and why:</p> <pre><code>for result in report.feature_results:\n    if result.has_drift:\n        print(f\"{result.feature_name}: score={result.score}\")\n        # Plot distributions, investigate data sources\n</code></pre>"},{"location":"getting-started/concepts/#2-retrain","title":"2. Retrain","text":"<p>If drift is significant:</p> <pre><code>if report.drift_ratio() &gt; 0.5:\n    trigger_retraining_pipeline()\n</code></pre>"},{"location":"getting-started/concepts/#3-alert-stakeholders","title":"3. Alert Stakeholders","text":"<pre><code>if report.status == DriftStatus.CRITICAL:\n    alerter.send(report)\n    notify_data_team()\n</code></pre>"},{"location":"getting-started/concepts/#4-update-reference","title":"4. Update Reference","text":"<p>After retraining:</p> <pre><code>new_train_df = load_retrain_data()\nmonitor.update_reference(new_train_df)\n</code></pre>"},{"location":"getting-started/concepts/#next-steps","title":"Next Steps","text":"<ul> <li>Drift Detectors \u2192</li> <li>Thresholds \u2192</li> <li>Monitoring Guide \u2192</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.9 or higher</li> <li>pip or poetry</li> </ul>"},{"location":"getting-started/installation/#basic-installation","title":"Basic Installation","text":"<p>Install DriftWatch from PyPI:</p> <pre><code>pip install driftwatch\n</code></pre> <p>This installs the core library with minimal dependencies:</p> <ul> <li><code>numpy</code> - Numerical computations</li> <li><code>pandas</code> - Data manipulation</li> <li><code>scipy</code> - Statistical functions</li> <li><code>pydantic</code> - Data validation</li> </ul>"},{"location":"getting-started/installation/#optional-dependencies","title":"Optional Dependencies","text":"<p>DriftWatch provides optional extras for specific use cases:</p>"},{"location":"getting-started/installation/#cli-tools","title":"CLI Tools","text":"<p>For command-line interface with rich formatting:</p> <pre><code>pip install driftwatch[cli]\n</code></pre> <p>Includes:</p> <ul> <li><code>typer</code> - CLI framework</li> <li><code>rich</code> - Beautiful terminal output</li> </ul>"},{"location":"getting-started/installation/#fastapi-integration","title":"FastAPI Integration","text":"<p>For automatic API monitoring:</p> <pre><code>pip install driftwatch[fastapi]\n</code></pre> <p>Includes:</p> <ul> <li><code>fastapi</code> - Web framework</li> <li><code>uvicorn</code> - ASGI server</li> </ul>"},{"location":"getting-started/installation/#alerting","title":"Alerting","text":"<p>For Slack notifications and email alerts:</p> <pre><code>pip install driftwatch[alerting]\n</code></pre> <p>Includes:</p> <ul> <li><code>httpx</code> - HTTP client for webhooks</li> <li><code>aiosmtplib</code> - Async SMTP client</li> </ul>"},{"location":"getting-started/installation/#mlflow-integration","title":"MLflow Integration","text":"<p>For experiment tracking integration:</p> <pre><code>pip install driftwatch[mlflow]\n</code></pre> <p>Includes:</p> <ul> <li><code>mlflow</code> - ML experiment tracking</li> </ul>"},{"location":"getting-started/installation/#all-features","title":"All Features","text":"<p>Install everything:</p> <pre><code>pip install driftwatch[all]\n</code></pre>"},{"location":"getting-started/installation/#development-installation","title":"Development Installation","text":"<p>For contributors:</p> <pre><code># Clone the repository\ngit clone https://github.com/VincentCotella/DriftWatch.git\ncd DriftWatch\n\n# Create virtual environment\npython -m venv .venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n\n# Install in editable mode with dev dependencies\npip install -e \".[dev,all]\"\n\n# Install pre-commit hooks\npre-commit install\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>Test your installation:</p> <pre><code>import driftwatch\nprint(driftwatch.__version__)\n</code></pre> <p>Or run a quick check:</p> <pre><code>from driftwatch import Monitor\nimport pandas as pd\nimport numpy as np\n\n# Create sample data\ndata = pd.DataFrame({\n    \"age\": np.random.normal(35, 10, 100),\n    \"income\": np.random.lognormal(10.5, 0.5, 100)\n})\n\n# Create monitor\nmonitor = Monitor(reference_data=data)\nprint(\"\u2713 DriftWatch installed successfully!\")\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quickstart \u2192 - Run your first drift check</li> <li>Core Concepts \u2192 - Understand how drift detection works</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quickstart","text":"<p>Get started with DriftWatch in 5 minutes.</p>"},{"location":"getting-started/quickstart/#your-first-drift-check","title":"Your First Drift Check","text":""},{"location":"getting-started/quickstart/#1-generate-sample-data","title":"1. Generate Sample Data","text":"<pre><code>import pandas as pd\nimport numpy as np\n\n# Training data (reference)\nnp.random.seed(42)\ntrain_df = pd.DataFrame({\n    \"age\": np.random.normal(35, 10, 1000),\n    \"income\": np.random.lognormal(10.5, 0.5, 1000),\n    \"credit_score\": np.random.normal(700, 50, 1000),\n})\n\n# Production data (drifted)\nprod_df = pd.DataFrame({\n    \"age\": np.random.normal(45, 12, 500),  # Mean shifted!\n    \"income\": np.random.lognormal(10.5, 0.5, 500),\n    \"credit_score\": np.random.normal(685, 55, 500),  # Mean and variance changed!\n})\n</code></pre>"},{"location":"getting-started/quickstart/#2-create-a-monitor","title":"2. Create a Monitor","text":"<pre><code>from driftwatch import Monitor\n\nmonitor = Monitor(\n    reference_data=train_df,\n    thresholds={\n        \"psi\": 0.2,  # PSI threshold\n        \"ks_pvalue\": 0.05,  # KS p-value threshold\n    }\n)\n</code></pre>"},{"location":"getting-started/quickstart/#3-check-for-drift","title":"3. Check for Drift","text":"<pre><code>report = monitor.check(prod_df)\n\n# Quick check\nif report.has_drift():\n    print(f\"\u26a0\ufe0f  Drift detected!\")\n    print(f\"Drifted features: {', '.join(report.drifted_features())}\")\nelse:\n    print(\"\u2713 No drift detected\")\n</code></pre>"},{"location":"getting-started/quickstart/#4-inspect-the-report","title":"4. Inspect the Report","text":"<pre><code># Get detailed metrics\nprint(f\"Status: {report.status.value}\")\nprint(f\"Drift ratio: {report.drift_ratio():.1%}\")\n\n# Feature-level details\nfor result in report.feature_results:\n    status = \"\u26a0\ufe0f DRIFT\" if result.has_drift else \"\u2713 OK\"\n    print(f\"{result.feature_name}: {status} (score={result.score:.4f})\")\n</code></pre> <p>Expected Output:</p> <pre><code>\u26a0\ufe0f  Drift detected!\nDrifted features: age, credit_score\nStatus: WARNING\nDrift ratio: 66.7%\nage: \u26a0\ufe0f DRIFT (score=0.9521)\nincome: \u2713 OK (score=0.0234)\ncredit_score: \u26a0\ufe0f DRIFT (score=0.4582)\n</code></pre>"},{"location":"getting-started/quickstart/#export-report","title":"Export Report","text":""},{"location":"getting-started/quickstart/#save-to-json","title":"Save to JSON","text":"<pre><code>import json\n\n# Export full report\nwith open(\"drift_report.json\", \"w\") as f:\n    json.dump(report.to_dict(), f, indent=2)\n</code></pre>"},{"location":"getting-started/quickstart/#use-in-cicd","title":"Use in CI/CD","text":"<pre><code>import sys\n\n# Exit with error code if drift detected\nif report.status.value == \"CRITICAL\":\n    sys.exit(2)  # Critical drift\nelif report.status.value == \"WARNING\":\n    sys.exit(1)  # Warning\nelse:\n    sys.exit(0)  # No drift\n</code></pre>"},{"location":"getting-started/quickstart/#add-alerts","title":"Add Alerts","text":""},{"location":"getting-started/quickstart/#slack-integration","title":"Slack Integration","text":"<pre><code>from driftwatch.integrations.alerting import SlackAlerter\n\nalerter = SlackAlerter(\n    webhook_url=\"https://hooks.slack.com/services/YOUR/WEBHOOK/URL\",\n    throttle_minutes=60  # Max 1 alert per hour\n)\n\nif report.has_drift():\n    alerter.send(report)\n</code></pre>"},{"location":"getting-started/quickstart/#monitor-production-api","title":"Monitor Production API","text":""},{"location":"getting-started/quickstart/#fastapi-integration","title":"FastAPI Integration","text":"<pre><code>from fastapi import FastAPI\nfrom driftwatch.integrations.fastapi import DriftMiddleware\n\napp = FastAPI()\n\n# Add drift monitoring middleware\napp.add_middleware(\n    DriftMiddleware,\n    monitor=monitor,\n    check_interval=100,  # Check every 100 requests\n    min_samples=50,\n)\n\n@app.post(\"/predict\")\nasync def predict(age: float, income: float, credit_score: float):\n    # Your prediction logic\n    return {\"prediction\": 0.85}\n</code></pre> <p>The middleware automatically:</p> <ul> <li>\u2705 Collects input features</li> <li>\u2705 Runs drift checks periodically</li> <li>\u2705 Exposes <code>/drift/status</code> endpoint</li> </ul> <p></p>"},{"location":"getting-started/quickstart/#use-the-cli","title":"Use the CLI","text":""},{"location":"getting-started/quickstart/#generate-report","title":"Generate Report","text":"<pre><code>driftwatch check \\\n  --ref train.parquet \\\n  --prod prod.parquet \\\n  --output drift_report.json\n</code></pre>"},{"location":"getting-started/quickstart/#view-existing-report","title":"View Existing Report","text":"<pre><code>driftwatch report drift_report.json --format table\n</code></pre>"},{"location":"getting-started/quickstart/#whats-next","title":"What's Next?","text":"<ul> <li> <p> Core Concepts</p> <p>Understand drift detection fundamentals</p> <p> Learn More</p> </li> <li> <p> Drift Detectors</p> <p>Choose the right detector for your use case</p> <p> Detectors Guide</p> </li> <li> <p> Thresholds</p> <p>Configure sensitivity and alerting</p> <p> Threshold Guide</p> </li> <li> <p> API Reference</p> <p>Full API documentation</p> <p> API Docs</p> </li> </ul>"},{"location":"integrations/cli/","title":"CLI Guide","text":"<p>Use DriftWatch from the command line for batch processing and CI/CD integration.</p>"},{"location":"integrations/cli/#installation","title":"Installation","text":"<pre><code>pip install driftwatch[cli]\n</code></pre>"},{"location":"integrations/cli/#commands","title":"Commands","text":""},{"location":"integrations/cli/#driftwatch-check","title":"<code>driftwatch check</code>","text":"<p>Check for drift between reference and production datasets.</p> <pre><code>driftwatch check --ref REFERENCE --prod PRODUCTION [OPTIONS]\n</code></pre> <p>Arguments:</p> <ul> <li><code>--ref</code>, <code>-r</code> - Path to reference dataset (CSV or Parquet)</li> <li><code>--prod</code>, <code>-p</code> - Path to production dataset (CSV or Parquet)</li> </ul> <p>Options:</p> <ul> <li><code>--threshold-psi FLOAT</code> - PSI threshold (default: 0.2)</li> <li><code>--threshold-ks FLOAT</code> - KS p-value threshold (default: 0.05)</li> <li><code>--threshold-chi2 FLOAT</code> - Chi\u00b2 p-value threshold (default: 0.05)</li> <li><code>--output</code>, <code>-o</code> PATH - Save report to JSON file</li> </ul> <p>Exit Codes:</p> <ul> <li><code>0</code> - No drift detected (OK)</li> <li><code>1</code> - Drift detected (WARNING)</li> <li><code>2</code> - Critical drift (CRITICAL)</li> </ul>"},{"location":"integrations/cli/#examples","title":"Examples","text":""},{"location":"integrations/cli/#basic-check","title":"Basic Check","text":"<pre><code>driftwatch check --ref train.csv --prod prod.csv\n</code></pre> <p>Output:</p> <pre><code>\ud83d\udd0d DriftWatch - Drift Detection\n\nLoading reference data from train.csv...\n\u2713 Loaded 10,000 samples with 5 features\n\nLoading production data from prod.csv...\n\u2713 Loaded 2,500 samples with 5 features\n\nInitializing monitor...\nRunning drift detection...\n\nStatus: WARNING\nDrift Detected: 2/5 features\nDrift Ratio: 40.0%\n\nFeature Analysis:\n\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Feature      \u2503 Method \u2503  Score \u2503 Threshold \u2503 Status   \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 age          \u2502 psi    \u2502 0.3521 \u2502    0.2000 \u2502 \u26a0\ufe0f DRIFT \u2502\n\u2502 income       \u2502 psi    \u2502 0.1234 \u2502    0.2000 \u2502 \u2713 OK     \u2502\n\u2502 credit_score \u2502 psi    \u2502 0.2891 \u2502    0.2000 \u2502 \u26a0\ufe0f DRIFT \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"integrations/cli/#custom-thresholds","title":"Custom Thresholds","text":"<pre><code>driftwatch check \\\n  --ref train.parquet \\\n  --prod prod.parquet \\\n  --threshold-psi 0.15 \\\n  --threshold-ks 0.01\n</code></pre>"},{"location":"integrations/cli/#save-report","title":"Save Report","text":"<pre><code>driftwatch check \\\n  --ref train.csv \\\n  --prod prod.csv \\\n  --output drift_report.json\n</code></pre>"},{"location":"integrations/cli/#driftwatch-report","title":"<code>driftwatch report</code>","text":"<p>Display a drift report from a JSON file.</p> <pre><code>driftwatch report REPORT_FILE [OPTIONS]\n</code></pre> <p>Arguments:</p> <ul> <li><code>REPORT_FILE</code> - Path to drift report JSON</li> </ul> <p>Options:</p> <ul> <li><code>--format</code>, <code>-f</code> - Output format: <code>table</code> or <code>json</code> (default: <code>table</code>)</li> <li><code>--output</code>, <code>-o</code> PATH - Save output to file</li> </ul>"},{"location":"integrations/cli/#cicd-integration","title":"CI/CD Integration","text":""},{"location":"integrations/cli/#github-actions","title":"GitHub Actions","text":"<pre><code>name: Drift Check\n\non:\n  schedule:\n    - cron: '0 0 * * *'  # Daily at midnight\n\njobs:\n  drift-check:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Setup Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n\n      - name: Install dependencies\n        run: pip install driftwatch[cli]\n\n      - name: Run drift check\n        run: |\n          driftwatch check \\\n            --ref data/train.parquet \\\n            --prod data/production_latest.parquet \\\n            --output drift_report.json\n\n      - name: Upload report\n        uses: actions/upload-artifact@v3\n        if: always()\n        with:\n          name: drift-report\n          path: drift_report.json\n\n      - name: Notify on drift\n        if: failure()\n        run: |\n          # Send notification\n          echo \"Drift detected! Check artifacts.\"\n</code></pre>"},{"location":"integrations/cli/#gitlab-ci","title":"GitLab CI","text":"<pre><code>drift_check:\n  stage: test\n  image: python:3.11\n  script:\n    - pip install driftwatch[cli]\n    - |\n      driftwatch check \\\n        --ref data/train.parquet \\\n        --prod data/production.parquet \\\n        --threshold-psi 0.15\n  artifacts:\n    paths:\n      - drift_report.json\n    when: always\n  only:\n    - schedules\n</code></pre>"},{"location":"integrations/cli/#production-workflows","title":"Production Workflows","text":""},{"location":"integrations/cli/#daily-drift-monitoring","title":"Daily Drift Monitoring","text":"<pre><code>#!/bin/bash\n# daily_drift_check.sh\n\n# Download latest production data\naws s3 cp s3://my-bucket/production_data.parquet .\n\n# Run drift check\ndriftwatch check \\\n  --ref data/train.parquet \\\n  --prod production_data.parquet \\\n  --output drift_report_$(date +%Y%m%d).json\n\n# Alert if drift detected\nif [ $? -ne 0 ]; then\n  # Send to Slack, PagerDuty, etc.\n  curl -X POST https://hooks.slack.com/... \\\n    -d \"{\\\"text\\\": \\\"Drift detected on $(date)\\\"}\"\nfi\n</code></pre>"},{"location":"integrations/cli/#pre-deployment-check","title":"Pre-Deployment Check","text":"<pre><code>#!/bin/bash\n# Ensure no drift before deploying new model\n\ndriftwatch check \\\n  --ref data/train_v2.parquet \\\n  --prod data/validation.parquet \\\n  --threshold-psi 0.10\n\nif [ $? -eq 0 ]; then\n  echo \"\u2713 No drift detected. Safe to deploy.\"\n  # Deploy model\nelse\n  echo \"\u26a0\ufe0f Drift detected. Review before deploying.\"\n  exit 1\nfi\n</code></pre>"},{"location":"integrations/cli/#tips-tricks","title":"Tips &amp; Tricks","text":""},{"location":"integrations/cli/#1-use-parquet-for-speed","title":"1. Use Parquet for Speed","text":"<p>Parquet is much faster than CSV for large datasets:</p> <pre><code># Convert CSV to Parquet\npython -c \"\nimport pandas as pd\npd.read_csv('large_file.csv').to_parquet('large_file.parquet')\n\"\n\n# Use in drift check\ndriftwatch check --ref train.parquet --prod prod.parquet\n</code></pre>"},{"location":"integrations/cli/#2-pipe-to-jq-for-json","title":"2. Pipe to jq for JSON","text":"<pre><code>driftwatch check --ref train.csv --prod prod.csv --output - | jq .\n</code></pre>"},{"location":"integrations/cli/#3-check-specific-features-only","title":"3. Check Specific Features Only","text":"<p>Filter your data before checking:</p> <pre><code># filter_features.py\nimport pandas as pd\nimport sys\n\ndf = pd.read_parquet(sys.argv[1])\ndf[['age', 'income']].to_parquet(sys.argv[2])\n</code></pre> <pre><code>python filter_features.py prod.parquet prod_filtered.parquet\ndriftwatch check --ref train_filtered.parquet --prod prod_filtered.parquet\n</code></pre>"},{"location":"integrations/cli/#next-steps","title":"Next Steps","text":"<ul> <li>FastAPI Integration \u2192</li> <li>Slack Alerts \u2192</li> <li>Thresholds Guide \u2192</li> </ul>"},{"location":"integrations/fastapi/","title":"FastAPI Integration","text":"<p>Monitor your FastAPI inference endpoints automatically with DriftWatch.</p>"},{"location":"integrations/fastapi/#installation","title":"Installation","text":"<pre><code>pip install driftwatch[fastapi]\n</code></pre>"},{"location":"integrations/fastapi/#quick-setup","title":"Quick Setup","text":""},{"location":"integrations/fastapi/#1-add-middleware","title":"1. Add Middleware","text":"<pre><code>from fastapi import FastAPI\nfrom driftwatch import Monitor\nfrom driftwatch.integrations.fastapi import DriftMiddleware\nimport pandas as pd\n\n# Load reference data\ntrain_df = pd.read_parquet(\"train.parquet\")\n\n# Create monitor\nmonitor = Monitor(reference_data=train_df)\n\n# Create FastAPI app\napp = FastAPI()\n\n# Add drift monitoring\napp.add_middleware(\n    DriftMiddleware,\n    monitor=monitor,\n    check_interval=100,  # Check every 100 requests\n    min_samples=50,      # Minimum samples before checking\n    enabled=True,\n)\n</code></pre>"},{"location":"integrations/fastapi/#2-add-endpoints","title":"2. Add Endpoints","text":"<pre><code>from driftwatch.integrations.fastapi import add_drift_routes\n\n# Add /drift/* endpoints\nadd_drift_routes(app, middleware)\n</code></pre> <p>This adds:</p> <ul> <li><code>GET /drift/status</code> - Current drift status</li> <li><code>GET /drift/report</code> - Full drift report</li> <li><code>GET /drift/health</code> - Health check</li> <li><code>POST /drift/check</code> - Manual drift check</li> <li><code>POST /drift/reset</code> - Reset buffer</li> </ul>"},{"location":"integrations/fastapi/#configuration","title":"Configuration","text":""},{"location":"integrations/fastapi/#feature-extraction","title":"Feature Extraction","text":"<p>Custom feature extractor for complex request formats:</p> <pre><code>def extract_features(request_body: dict) -&gt; dict:\n    \"\"\"Extract relevant features from request.\"\"\"\n    return {\n        \"age\": request_body[\"user\"][\"age\"],\n        \"income\": request_body[\"user\"][\"income\"],\n        \"credit_score\": request_body[\"credit\"][\"score\"],\n    }\n\napp.add_middleware(\n    DriftMiddleware,\n    monitor=monitor,\n    feature_extractor=extract_features,\n    check_interval=100,\n)\n</code></pre>"},{"location":"integrations/fastapi/#prediction-collection","title":"Prediction Collection","text":"<p>Collect predictions for model drift analysis:</p> <pre><code>def extract_prediction(response_body: dict) -&gt; dict:\n    \"\"\"Extract prediction from response.\"\"\"\n    return {\"probability\": response_body[\"prediction\"]}\n\napp.add_middleware(\n    DriftMiddleware,\n    monitor=monitor,\n    prediction_extractor=extract_prediction,\n    check_interval=100,\n)\n</code></pre>"},{"location":"integrations/fastapi/#buffer-size","title":"Buffer Size","text":"<p>Control memory usage:</p> <pre><code>app.add_middleware(\n    DriftMiddleware,\n    monitor=monitor,\n    buffer_size=5000,  # Keep last 5000 samples\n    check_interval=100,\n)\n</code></pre>"},{"location":"integrations/fastapi/#api-endpoints","title":"API Endpoints","text":""},{"location":"integrations/fastapi/#get-driftstatus","title":"GET /drift/status","text":"<p>Get current drift status:</p> <pre><code>curl http://localhost:8000/drift/status\n</code></pre> <p>Response:</p> <pre><code>{\n  \"status\": \"WARNING\",\n  \"has_drift\": true,\n  \"drift_ratio\": 0.333,\n  \"drifted_features\": [\"age\"],\n  \"last_check\": \"2024-01-15T14:30:00Z\",\n  \"samples_collected\": 150,\n  \"total_requests\": 523\n}\n</code></pre> <p></p>"},{"location":"integrations/fastapi/#get-driftreport","title":"GET /drift/report","text":"<p>Full drift report with feature details:</p> <pre><code>curl http://localhost:8000/drift/report\n</code></pre> <p>Response:</p> <pre><code>{\n  \"status\": \"WARNING\",\n  \"timestamp\": \"2024-01-15T14:30:00Z\",\n  \"feature_results\": [\n    {\n      \"feature_name\": \"age\",\n      \"has_drift\": true,\n      \"score\": 0.3521,\n      \"method\": \"psi\",\n      \"threshold\": 0.2\n    }\n  ]\n}\n</code></pre>"},{"location":"integrations/fastapi/#post-driftcheck","title":"POST /drift/check","text":"<p>Trigger manual drift check:</p> <pre><code>curl -X POST http://localhost:8000/drift/check\n</code></pre>"},{"location":"integrations/fastapi/#post-driftreset","title":"POST /drift/reset","text":"<p>Reset sample buffer:</p> <pre><code>curl -X POST http://localhost:8000/drift/reset\n</code></pre>"},{"location":"integrations/fastapi/#complete-example","title":"Complete Example","text":"<pre><code>from fastapi import FastAPI\nfrom driftwatch import Monitor\nfrom driftwatch.integrations.fastapi import DriftMiddleware, add_drift_routes\nimport pandas as pd\n\n# Setup\ntrain_df = pd.read_parquet(\"train.parquet\")\nmonitor = Monitor(reference_data=train_df)\napp = FastAPI(title=\"ML Inference API\")\n\n# Add drift monitoring\nmiddleware = DriftMiddleware(\n    app=app,\n    monitor=monitor,\n    check_interval=100,\n    min_samples=50,\n)\napp.add_middleware(DriftMiddleware, **middleware.__dict__)\nadd_drift_routes(app, middleware)\n\n# Your prediction endpoint\n@app.post(\"/predict\")\nasync def predict(\n    age: float,\n    income: float,\n    credit_score: float\n):\n    # Predictions automatically monitored\n    prediction = model.predict([[age, income, credit_score]])[0]\n\n    return {\n        \"prediction\": float(prediction),\n        \"confidence\": 0.87,\n    }\n\n# Run with: uvicorn main:app --reload\n</code></pre>"},{"location":"integrations/fastapi/#production-tips","title":"Production Tips","text":""},{"location":"integrations/fastapi/#1-disable-in-development","title":"1. Disable in Development","text":"<pre><code>import os\n\napp.add_middleware(\n    DriftMiddleware,\n    monitor=monitor,\n    enabled=os.getenv(\"ENV\") == \"production\",\n)\n</code></pre>"},{"location":"integrations/fastapi/#2-combine-with-alerts","title":"2. Combine with Alerts","text":"<pre><code>from driftwatch.integrations.alerting import SlackAlerter\n\nalerter = SlackAlerter(webhook_url=\"https://hooks.slack.com/...\")\n\n# Check periodically and alert\n@app.middleware(\"http\")\nasync def check_and_alert(request, call_next):\n    response = await call_next(request)\n\n    if middleware.state.last_report and middleware.state.last_report.has_drift():\n        alerter.send(middleware.state.last_report)\n\n    return response\n</code></pre>"},{"location":"integrations/fastapi/#3-monitor-metrics","title":"3. Monitor Metrics","text":"<p>Export to Prometheus, DataDog, etc.:</p> <pre><code>from prometheus_client import Gauge\n\ndrift_ratio_gauge = Gauge(\"drift_ratio\", \"Feature drift ratio\")\n\n@app.get(\"/metrics\")\nasync def metrics():\n    if middleware.state.last_report:\n        drift_ratio_gauge.set(middleware.state.last_report.drift_ratio())\n    # ... return Prometheus metrics\n</code></pre>"},{"location":"integrations/fastapi/#demo-application","title":"Demo Application","text":"<p>A full demo is available in the repository:</p> <pre><code>git clone https://github.com/VincentCotella/DriftWatch\ncd DriftWatch\npython examples/fastapi_demo.py\n</code></pre> <p>Open http://localhost:8000 to see the interactive dashboard.</p> <p></p>"},{"location":"integrations/fastapi/#next-steps","title":"Next Steps","text":"<ul> <li>CLI Integration \u2192</li> <li>Slack Alerts \u2192</li> <li>API Reference \u2192</li> </ul>"},{"location":"integrations/slack/","title":"Slack Integration","text":"<p>Get notified in Slack when drift is detected.</p>"},{"location":"integrations/slack/#installation","title":"Installation","text":"<pre><code>pip install driftwatch[alerting]\n</code></pre>"},{"location":"integrations/slack/#setup","title":"Setup","text":""},{"location":"integrations/slack/#1-create-slack-webhook","title":"1. Create Slack Webhook","text":"<ol> <li>Go to Slack API</li> <li>Create new app</li> <li>Enable \"Incoming Webhooks\"</li> <li>Add webhook to workspace</li> <li>Copy webhook URL</li> </ol>"},{"location":"integrations/slack/#2-configure-alerter","title":"2. Configure Alerter","text":"<pre><code>from driftwatch.integrations.alerting import SlackAlerter\n\nalerter = SlackAlerter(\n    webhook_url=\"https://hooks.slack.com/services/YOUR/WEBHOOK/URL\",\n    throttle_minutes=60  # Max 1 alert per hour\n)\n</code></pre>"},{"location":"integrations/slack/#usage","title":"Usage","text":"<pre><code>from driftwatch import Monitor\n\nmonitor = Monitor(reference_data=train_df)\nreport = monitor.check(prod_df)\n\nif report.has_drift():\n    alerter.send(report)\n</code></pre>"},{"location":"integrations/slack/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"integrations/slack/#custom-messages","title":"Custom Messages","text":"<pre><code>alerter.send(\n    report,\n    custom_message=\"\ud83d\udea8 Production Model Alert - Immediate Action Required\"\n)\n</code></pre>"},{"location":"integrations/slack/#mention-users","title":"Mention Users","text":"<pre><code>alerter = SlackAlerter(\n    webhook_url=\"...\",\n    mention_user=\"U123ABC\"  # Slack user ID\n)\n</code></pre>"},{"location":"integrations/slack/#channel-override","title":"Channel Override","text":"<pre><code>alerter = SlackAlerter(\n    webhook_url=\"...\",\n    channel_override=\"#critical-alerts\"\n)\n</code></pre>"},{"location":"integrations/slack/#see-also","title":"See Also","text":"<ul> <li>CLI Integration \u2192</li> <li>FastAPI Integration \u2192</li> </ul>"},{"location":"user-guide/detectors/","title":"Drift Detectors - When to Use Each","text":"<p>This guide helps you choose the right drift detector for your use case.</p>"},{"location":"user-guide/detectors/#numerical-features","title":"Numerical Features","text":""},{"location":"user-guide/detectors/#psi-population-stability-index","title":"PSI (Population Stability Index)","text":"<p>Best for: General-purpose numerical drift detection</p> <ul> <li>How it works: Bins data and compares distribution of samples across bins</li> <li>Threshold: Typically 0.1-0.25</li> <li>Interpretation:</li> <li>PSI &lt; 0.1: No significant drift</li> <li>0.1 \u2264 PSI &lt; 0.2: Moderate drift (investigate)</li> <li>PSI \u2265 0.2: Significant drift (action required)</li> </ul> <p>Use when: - You want a standard, industry-proven drift detector - Your feature has a reasonable range and distribution - You need interpretable thresholds</p>"},{"location":"user-guide/detectors/#ks-kolmogorov-smirnov-test","title":"KS (Kolmogorov-Smirnov Test)","text":"<p>Best for: Statistical hypothesis testing</p> <ul> <li>How it works: Measures maximum distance between cumulative distributions</li> <li>Threshold: P-value (typically 0.05)</li> <li>Interpretation: P-value &lt; threshold indicates drift</li> </ul> <p>Use when: - You need a formal statistical test - You want p-values for significance testing - Sample sizes are moderate to large (&gt; 100)</p>"},{"location":"user-guide/detectors/#wasserstein-distance-earth-movers-distance","title":"Wasserstein Distance (Earth Mover's Distance)","text":"<p>Best for: Detecting subtle distributional shifts</p> <ul> <li>How it works: Calculates minimum \"work\" to transform one distribution into another</li> <li>Threshold: Typically 0.1-0.5 (normalized by reference std)</li> <li>Interpretation: Higher values indicate more drift</li> </ul> <p>Use when: - You need high sensitivity to subtle changes - Distribution shape matters (not just mean/variance) - You're monitoring critical features - Small shifts are important to detect early</p> <p>Advantages over PSI/KS: - More sensitive to gradual shifts - Continuous metric (no binning artifacts) - Better for multimodal distributions</p>"},{"location":"user-guide/detectors/#categorical-features","title":"Categorical Features","text":""},{"location":"user-guide/detectors/#chi-squared-test","title":"Chi-Squared Test","text":"<p>Best for: Categorical drift detection</p> <ul> <li>How it works: Tests if category frequencies have changed significantly</li> <li>Threshold: P-value (typically 0.05)</li> <li>Interpretation: P-value &lt; threshold indicates drift</li> </ul> <p>Use when: - Feature has discrete categories - You need statistical significance testing - Sample size is adequate (expected count &gt; 5 per category)</p>"},{"location":"user-guide/detectors/#choosing-between-detectors","title":"Choosing Between Detectors","text":""},{"location":"user-guide/detectors/#quick-decision-tree","title":"Quick Decision Tree","text":"<pre><code>Is your feature numerical?\n\u251c\u2500 Yes \u2192 Choose based on sensitivity needs:\n\u2502   \u251c\u2500 Standard monitoring \u2192 PSI (threshold=0.2)\n\u2502   \u251c\u2500 Need p-values \u2192 KS (threshold=0.05)\n\u2502   \u2514\u2500 High sensitivity needed \u2192 Wasserstein (threshold=0.1)\n\u2514\u2500 No (categorical) \u2192 Chi-Squared (threshold=0.05)\n</code></pre>"},{"location":"user-guide/detectors/#comparison-table","title":"Comparison Table","text":"Detector Type Sensitivity Interpretability Speed Best For PSI Numerical Medium High Fast General use KS Numerical Medium Medium Fast Hypothesis testing Wasserstein Numerical High Medium Medium Subtle shifts Chi\u00b2 Categorical Medium High Fast Categories"},{"location":"user-guide/detectors/#examples","title":"Examples","text":""},{"location":"user-guide/detectors/#using-different-detectors","title":"Using Different Detectors","text":"<pre><code>from driftwatch import Monitor\n\n# Default (PSI for numerical, Chi\u00b2 for categorical)\nmonitor = Monitor(reference_data=train_df)\n\n# Explicit detector per feature\nmonitor = Monitor(\n    reference_data=train_df,\n    thresholds={\n        \"psi\": 0.15,\n        \"wasserstein\": 0.2,\n        \"ks_pvalue\": 0.05,\n    }\n)\n\n# Using registry to get specific detector\nfrom driftwatch.detectors.registry import get_detector_by_name\n\nwasserstein = get_detector_by_name(\n    \"wasserstein\", \n    thresholds={\"wasserstein\": 0.1}\n)\n</code></pre>"},{"location":"user-guide/detectors/#advanced-tips","title":"Advanced Tips","text":""},{"location":"user-guide/detectors/#when-to-use-wasserstein","title":"When to Use Wasserstein","text":"<p>Wasserstein is particularly useful for: - Time series features: Detect gradual temporal changes - High-stakes predictions: Early warning for critical models - Multimodal distributions: Better than PSI which bins data - Small sample sizes: More robust than KS test</p>"},{"location":"user-guide/detectors/#threshold-tuning","title":"Threshold Tuning","text":"<p>Start with defaults and adjust based on: 1. Sensitivity needs: Lower threshold = more sensitive 2. False positive tolerance: Higher threshold = fewer alerts 3. Historical data: Analyze typical variation in your domain</p>"},{"location":"user-guide/detectors/#combining-detectors","title":"Combining Detectors","text":"<p>For critical features, monitor with multiple detectors: <pre><code># Monitor age with both PSI and Wasserstein\npsi_result = psi_detector.detect(ref[\"age\"], prod[\"age\"])\nwass_result = wasserstein_detector.detect(ref[\"age\"], prod[\"age\"])\n\nif psi_result.has_drift or wass_result.has_drift:\n    alert(\"Drift detected in age feature\")\n</code></pre></p>"},{"location":"user-guide/drift-explain/","title":"Drift Explain","text":"<p>The Drift Explain module (introduced in v0.3.0) provides detailed insights into why drift was detected and how distributions have shifted.</p>"},{"location":"user-guide/drift-explain/#overview","title":"Overview","text":"<p>When drift is detected, you often want to understand:</p> <ul> <li>How much did the distribution shift?</li> <li>Which statistics changed the most?</li> <li>What does it look like visually?</li> </ul> <p>DriftWatch provides two main classes for this:</p> Class Purpose <code>DriftExplainer</code> Detailed statistical analysis <code>DriftVisualizer</code> Histogram overlays and plots"},{"location":"user-guide/drift-explain/#installation","title":"Installation","text":"<p>For visualization support, install with the <code>viz</code> extra:</p> <pre><code>pip install driftwatch[viz]\n</code></pre>"},{"location":"user-guide/drift-explain/#driftexplainer","title":"DriftExplainer","text":"<p>The <code>DriftExplainer</code> provides detailed statistics for understanding drift.</p>"},{"location":"user-guide/drift-explain/#basic-usage","title":"Basic Usage","text":"<pre><code>from driftwatch import Monitor\nfrom driftwatch.explain import DriftExplainer\n\n# Setup\nmonitor = Monitor(reference_data=train_df)\nreport = monitor.check(production_df)\n\n# Explain drift\nexplainer = DriftExplainer(train_df, production_df, report)\nexplanation = explainer.explain()\n\n# Display summary\nprint(explanation.summary())\n</code></pre>"},{"location":"user-guide/drift-explain/#statistics-provided","title":"Statistics Provided","text":"<p>For each numeric feature, you get:</p> Statistic Description <code>mean_shift</code> Absolute change in mean <code>mean_shift_percent</code> Relative change (%) <code>std_change</code> Absolute change in standard deviation <code>std_change_percent</code> Relative change (%) <code>ref_min</code>, <code>prod_min</code> Minimum values <code>ref_max</code>, <code>prod_max</code> Maximum values <code>quantile_stats</code> Q25, Q50, Q75 comparisons"},{"location":"user-guide/drift-explain/#example-output","title":"Example Output","text":"<pre><code>\u2501\u2501\u2501 age \u2501\u2501\u2501\nStatus: \ud83d\udd34 DRIFT DETECTED\nScore (psi): 2.9555\n\n\ud83d\udcca Central Tendency:\n  Mean: 30.0234 \u2192 40.1567 (+33.75%)\n\n\ud83d\udcc8 Spread:\n  Std: 5.0123 \u2192 4.9876 (-0.49%)\n\n\ud83d\udccf Range:\n  Min: 15.2341 \u2192 25.1234\n  Max: 44.8765 \u2192 55.3421\n\n\ud83d\udcd0 Quantiles:\n  Q25: 26.5432 \u2192 36.4321 (+37.25%)\n  Q50: 29.8765 \u2192 40.0123 (+33.93%)\n  Q75: 33.2109 \u2192 43.7654 (+31.79%)\n</code></pre>"},{"location":"user-guide/drift-explain/#explain-single-feature","title":"Explain Single Feature","text":"<pre><code># Get explanation for specific feature\nage_exp = explainer.explain_feature(\"age\")\n\nprint(f\"Mean shifted by {age_exp.mean_shift_percent:.1f}%\")\nprint(f\"Std changed by {age_exp.std_change_percent:.1f}%\")\n</code></pre>"},{"location":"user-guide/drift-explain/#custom-quantiles","title":"Custom Quantiles","text":"<pre><code># Analyze different quantiles\nexplainer = DriftExplainer(\n    train_df, \n    production_df, \n    report,\n    quantiles=[0.1, 0.5, 0.9]  # 10th, 50th, 90th percentiles\n)\n</code></pre>"},{"location":"user-guide/drift-explain/#export-to-json","title":"Export to JSON","text":"<pre><code>import json\n\n# Export for logging/analysis\ndata = explanation.to_dict()\nprint(json.dumps(data, indent=2, default=str))\n</code></pre>"},{"location":"user-guide/drift-explain/#driftvisualizer","title":"DriftVisualizer","text":"<p>The <code>DriftVisualizer</code> creates histogram overlays to visualize distribution shifts.</p>"},{"location":"user-guide/drift-explain/#basic-usage_1","title":"Basic Usage","text":"<pre><code>from driftwatch.explain import DriftVisualizer\nimport matplotlib.pyplot as plt\n\nviz = DriftVisualizer(train_df, production_df, report)\n\n# Plot single feature\nfig = viz.plot_feature(\"age\")\nplt.show()\n</code></pre>"},{"location":"user-guide/drift-explain/#plot-all-features","title":"Plot All Features","text":"<pre><code># Grid of all numeric features\nfig = viz.plot_all(cols=2)\nplt.show()\n</code></pre>"},{"location":"user-guide/drift-explain/#customization","title":"Customization","text":"<pre><code># Customize appearance\nfig = viz.plot_feature(\n    \"age\",\n    bins=30,              # Number of histogram bins\n    figsize=(12, 8),      # Figure size\n    show_stats=True,      # Show stats box\n    alpha=0.7             # Transparency\n)\n</code></pre>"},{"location":"user-guide/drift-explain/#save-to-file","title":"Save to File","text":"<pre><code># Save single feature\nviz.save(\"age_drift.png\", feature_name=\"age\", dpi=150)\n\n# Save all features\nviz.save(\"drift_report.png\", dpi=150)\nviz.save(\"drift_report.pdf\")  # Vector format\n</code></pre>"},{"location":"user-guide/drift-explain/#complete-example","title":"Complete Example","text":"<pre><code>import pandas as pd\nimport numpy as np\nfrom driftwatch import Monitor\nfrom driftwatch.explain import DriftExplainer, DriftVisualizer\n\n# Generate data\nnp.random.seed(42)\ntrain_df = pd.DataFrame({\n    'age': np.random.normal(30, 5, 1000),\n    'income': np.random.normal(50000, 10000, 1000),\n})\n\nprod_df = pd.DataFrame({\n    'age': np.random.normal(40, 5, 1000),  # Drift!\n    'income': np.random.normal(50000, 10000, 1000),\n})\n\n# Detect drift\nmonitor = Monitor(reference_data=train_df)\nreport = monitor.check(prod_df)\n\n# Explain\nexplainer = DriftExplainer(train_df, prod_df, report)\nexplanation = explainer.explain()\nprint(explanation.summary())\n\n# Visualize\nviz = DriftVisualizer(train_df, prod_df, report)\nviz.save(\"drift_analysis.png\")\n</code></pre>"},{"location":"user-guide/drift-explain/#api-reference","title":"API Reference","text":""},{"location":"user-guide/drift-explain/#driftwatch.explain.DriftExplainer","title":"driftwatch.explain.DriftExplainer","text":"<pre><code>DriftExplainer(reference_data: DataFrame, production_data: DataFrame, report: DriftReport, quantiles: list[float] | None = None)\n</code></pre> <p>Explains drift detection results with detailed statistics.</p> <p>The explainer takes reference and production DataFrames along with a DriftReport and provides detailed insights into why drift was detected and how distributions have shifted.</p> Example <p>from driftwatch import Monitor from driftwatch.explain import DriftExplainer</p> <p>monitor = Monitor(reference_data=train_df) report = monitor.check(prod_df)</p> <p>explainer = DriftExplainer(train_df, prod_df, report) explanation = explainer.explain() print(explanation.summary())</p> <p>Initialize the DriftExplainer.</p> <p>Parameters:</p> Name Type Description Default <code>reference_data</code> <code>DataFrame</code> <p>Reference DataFrame (training data)</p> required <code>production_data</code> <code>DataFrame</code> <p>Production DataFrame to explain</p> required <code>report</code> <code>DriftReport</code> <p>DriftReport from Monitor.check()</p> required <code>quantiles</code> <code>list[float] | None</code> <p>List of quantiles to analyze (default: [0.25, 0.5, 0.75])</p> <code>None</code>"},{"location":"user-guide/drift-explain/#driftwatch.explain.DriftExplainer.explain","title":"explain","text":"<pre><code>explain() -&gt; DriftExplanation\n</code></pre> <p>Generate detailed explanations for all features.</p> <p>Returns:</p> Type Description <code>DriftExplanation</code> <p>DriftExplanation containing per-feature statistical analysis</p>"},{"location":"user-guide/drift-explain/#driftwatch.explain.DriftExplainer.explain_feature","title":"explain_feature","text":"<pre><code>explain_feature(feature_name: str) -&gt; FeatureExplanation | None\n</code></pre> <p>Generate detailed explanation for a single feature.</p> <p>Parameters:</p> Name Type Description Default <code>feature_name</code> <code>str</code> <p>Name of the feature to explain</p> required <p>Returns:</p> Type Description <code>FeatureExplanation | None</code> <p>FeatureExplanation or None if feature not found</p>"},{"location":"user-guide/drift-explain/#driftwatch.explain.DriftVisualizer","title":"driftwatch.explain.DriftVisualizer","text":"<pre><code>DriftVisualizer(reference_data: DataFrame, production_data: DataFrame, report: DriftReport, style: str = 'seaborn-v0_8-whitegrid')\n</code></pre> <p>Visualizes drift between reference and production distributions.</p> <p>Creates matplotlib figures showing distribution overlays, helping users understand exactly how data has shifted.</p> Example <p>from driftwatch import Monitor from driftwatch.explain import DriftVisualizer</p> <p>monitor = Monitor(reference_data=train_df) report = monitor.check(prod_df)</p> <p>viz = DriftVisualizer(train_df, prod_df, report) fig = viz.plot_feature(\"age\") plt.show()</p> <p>Initialize the DriftVisualizer.</p> <p>Parameters:</p> Name Type Description Default <code>reference_data</code> <code>DataFrame</code> <p>Reference DataFrame (training data)</p> required <code>production_data</code> <code>DataFrame</code> <p>Production DataFrame</p> required <code>report</code> <code>DriftReport</code> <p>DriftReport from Monitor.check()</p> required <code>style</code> <code>str</code> <p>Matplotlib style to use (default: seaborn-v0_8-whitegrid)</p> <code>'seaborn-v0_8-whitegrid'</code>"},{"location":"user-guide/drift-explain/#driftwatch.explain.DriftVisualizer--or-plot-all-features","title":"Or plot all features","text":"<p>fig = viz.plot_all() plt.savefig(\"drift_report.png\")</p>"},{"location":"user-guide/drift-explain/#driftwatch.explain.DriftVisualizer.plot_feature","title":"plot_feature","text":"<pre><code>plot_feature(feature_name: str, bins: int = 50, figsize: tuple[int, int] = (10, 6), show_stats: bool = True, alpha: float = 0.6) -&gt; Any\n</code></pre> <p>Plot histogram overlay for a single feature.</p> <p>Parameters:</p> Name Type Description Default <code>feature_name</code> <code>str</code> <p>Name of the feature to plot</p> required <code>bins</code> <code>int</code> <p>Number of histogram bins</p> <code>50</code> <code>figsize</code> <code>tuple[int, int]</code> <p>Figure size (width, height)</p> <code>(10, 6)</code> <code>show_stats</code> <code>bool</code> <p>Whether to show statistical annotations</p> <code>True</code> <code>alpha</code> <code>float</code> <p>Transparency of histograms</p> <code>0.6</code> <p>Returns:</p> Type Description <code>Any</code> <p>matplotlib Figure object</p> <p>Raises:</p> Type Description <code>ImportError</code> <p>If matplotlib is not installed</p> <code>ValueError</code> <p>If feature not found in data</p>"},{"location":"user-guide/drift-explain/#driftwatch.explain.DriftVisualizer.plot_all","title":"plot_all","text":"<pre><code>plot_all(cols: int = 2, figsize: tuple[int, int] | None = None, bins: int = 50, alpha: float = 0.6) -&gt; Any\n</code></pre> <p>Plot histogram overlays for all numeric features.</p> <p>Parameters:</p> Name Type Description Default <code>cols</code> <code>int</code> <p>Number of columns in the grid</p> <code>2</code> <code>figsize</code> <code>tuple[int, int] | None</code> <p>Figure size (auto-calculated if None)</p> <code>None</code> <code>bins</code> <code>int</code> <p>Number of histogram bins</p> <code>50</code> <code>alpha</code> <code>float</code> <p>Transparency of histograms</p> <code>0.6</code> <p>Returns:</p> Type Description <code>Any</code> <p>matplotlib Figure object</p>"},{"location":"user-guide/drift-explain/#driftwatch.explain.DriftVisualizer.save","title":"save","text":"<pre><code>save(filename: str, feature_name: str | None = None, dpi: int = 150, **kwargs: Any) -&gt; str\n</code></pre> <p>Save visualization to file.</p> <p>Parameters:</p> Name Type Description Default <code>filename</code> <code>str</code> <p>Output filename (supports png, pdf, svg)</p> required <code>feature_name</code> <code>str | None</code> <p>Specific feature to plot (or all if None)</p> <code>None</code> <code>dpi</code> <code>int</code> <p>Resolution for raster formats</p> <code>150</code> <code>**kwargs</code> <code>Any</code> <p>Additional arguments passed to savefig</p> <code>{}</code> <p>Returns:</p> Type Description <code>str</code> <p>The filename that was saved</p>"},{"location":"user-guide/monitoring/","title":"MLflow Integration","text":"<p>Coming soon.</p>"},{"location":"user-guide/monitoring/#installation","title":"Installation","text":"<p>\\\\\bash pip install driftwatch[mlflow] \\\\ \"@ | Out-File -FilePath docs\\integrations\\mlflow.md -Encoding utf8;</p> <p>@\"</p>"},{"location":"user-guide/monitoring/#monitoring-guide","title":"Monitoring Guide","text":"<p>Coming soon - comprehensive monitoring strategies and best practices.</p>"},{"location":"user-guide/reports/","title":"Reports","text":"<p>Learn how to work with drift reports.</p>"},{"location":"user-guide/reports/#creating-reports","title":"Creating Reports","text":"<p>Reports are created automatically by the Monitor:</p> <pre><code>report = monitor.check(prod_df)\n</code></pre>"},{"location":"user-guide/reports/#report-properties","title":"Report Properties","text":"<ul> <li><code>status</code> - Overall drift status (OK, WARNING, CRITICAL)</li> <li><code>has_drift()</code> - Boolean drift indicator  </li> <li><code>drift_ratio()</code> - Percentage of drifted features</li> <li><code>drifted_features()</code> - List of feature names with drift</li> <li><code>feature_results</code> - Per-feature detailed results</li> </ul>"},{"location":"user-guide/reports/#usage-examples","title":"Usage Examples","text":"<p>See API Reference for full documentation.</p>"},{"location":"user-guide/thresholds/","title":"Thresholds","text":"<p>Guide to tuning drift detection thresholds.</p>"},{"location":"user-guide/thresholds/#default-thresholds","title":"Default Thresholds","text":"<ul> <li>PSI: 0.2</li> <li>KS p-value: 0.05</li> <li>Chi\u00b2 p-value: 0.05</li> <li>Wasserstein: 0.1</li> </ul>"},{"location":"user-guide/thresholds/#tuning-guide","title":"Tuning Guide","text":"<p>Coming soon.</p>"}]}